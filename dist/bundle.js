(()=>{var e={5265:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.issue=t.issueCommand=void 0;const o=i(r(2087)),a=r(4570);function u(e,t,r){const n=new c(e,t,r);process.stdout.write(n.toString()+o.EOL)}t.issueCommand=u,t.issue=function(e,t=""){u(e,{},t)};class c{constructor(e,t,r){e||(e="missing.command"),this.command=e,this.properties=t,this.message=r}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(const n in this.properties)if(this.properties.hasOwnProperty(n)){const s=this.properties[n];s&&(r?r=!1:e+=",",e+=`${n}=${t=s,a.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}var t;return e+=`::${function(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(this.message)}`,e}}},2225:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(5265),u=r(3108),c=r(4570),l=i(r(2087)),f=i(r(5622));var d;function p(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&!1===t.trimWhitespace?r:r.trim()}function h(e){a.issue("error",e instanceof Error?e.toString():e)}function m(e){a.issue("group",e)}function g(){a.issue("endgroup")}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(d=t.ExitCode||(t.ExitCode={})),t.exportVariable=function(e,t){const r=c.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV){const t="_GitHubActionsFileCommandDelimeter_",n=`${e}<<${t}${l.EOL}${r}${l.EOL}${t}`;u.issueCommand("ENV",n)}else a.issueCommand("set-env",{name:e},r)},t.setSecret=function(e){a.issueCommand("add-mask",{},e)},t.addPath=function(e){process.env.GITHUB_PATH?u.issueCommand("PATH",e):a.issueCommand("add-path",{},e),process.env.PATH=`${e}${f.delimiter}${process.env.PATH}`},t.getInput=p,t.getMultilineInput=function(e,t){return p(e,t).split("\n").filter((e=>""!==e))},t.getBooleanInput=function(e,t){const r=p(e,t);if(["true","True","TRUE"].includes(r))return!0;if(["false","False","FALSE"].includes(r))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},t.setOutput=function(e,t){process.stdout.write(l.EOL),a.issueCommand("set-output",{name:e},t)},t.setCommandEcho=function(e){a.issue("echo",e?"on":"off")},t.setFailed=function(e){process.exitCode=d.Failure,h(e)},t.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},t.debug=function(e){a.issueCommand("debug",{},e)},t.error=h,t.warning=function(e){a.issue("warning",e instanceof Error?e.toString():e)},t.info=function(e){process.stdout.write(e+l.EOL)},t.startGroup=m,t.endGroup=g,t.group=function(e,t){return o(this,void 0,void 0,(function*(){let r;m(e);try{r=yield t()}finally{g()}return r}))},t.saveState=function(e,t){a.issueCommand("save-state",{name:e},t)},t.getState=function(e){return process.env[`STATE_${e}`]||""}},3108:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.issueCommand=void 0;const o=i(r(5747)),a=i(r(2087)),u=r(4570);t.issueCommand=function(e,t){const r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!o.existsSync(r))throw new Error(`Missing file at path: ${r}`);o.appendFileSync(r,`${u.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}},4570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCommandValue=void 0,t.toCommandValue=function(e){return null==e?"":"string"==typeof e||e instanceof String?e:JSON.stringify(e)}},5826:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.hashFiles=t.create=void 0;const s=r(249),i=r(4781);function o(e,t){return n(this,void 0,void 0,(function*(){return yield s.DefaultGlobber.create(e,t)}))}t.create=o,t.hashFiles=function(e,t){return n(this,void 0,void 0,(function*(){let r=!0;t&&"boolean"==typeof t.followSymbolicLinks&&(r=t.followSymbolicLinks);const n=yield o(e,{followSymbolicLinks:r});return i.hashFiles(n)}))}},5533:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getOptions=void 0;const o=i(r(2225));t.getOptions=function(e){const t={followSymbolicLinks:!0,implicitDescendants:!0,matchDirectories:!0,omitBrokenSymbolicLinks:!0};return e&&("boolean"==typeof e.followSymbolicLinks&&(t.followSymbolicLinks=e.followSymbolicLinks,o.debug(`followSymbolicLinks '${t.followSymbolicLinks}'`)),"boolean"==typeof e.implicitDescendants&&(t.implicitDescendants=e.implicitDescendants,o.debug(`implicitDescendants '${t.implicitDescendants}'`)),"boolean"==typeof e.matchDirectories&&(t.matchDirectories=e.matchDirectories,o.debug(`matchDirectories '${t.matchDirectories}'`)),"boolean"==typeof e.omitBrokenSymbolicLinks&&(t.omitBrokenSymbolicLinks=e.omitBrokenSymbolicLinks,o.debug(`omitBrokenSymbolicLinks '${t.omitBrokenSymbolicLinks}'`))),t}},249:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}},u=this&&this.__await||function(e){return this instanceof u?(this.v=e,this):new u(e)},c=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,s=r.apply(e,t||[]),i=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){s[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=s[e](t)).value instanceof u?Promise.resolve(r.value.v).then(c,l):f(i[0][2],r)}catch(e){f(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function f(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGlobber=void 0;const l=i(r(2225)),f=i(r(5747)),d=i(r(5533)),p=i(r(5622)),h=i(r(8026)),m=r(1365),g=r(1603),y=r(6509),b="win32"===process.platform;class v{constructor(e){this.patterns=[],this.searchPaths=[],this.options=d.getOptions(e)}getSearchPaths(){return this.searchPaths.slice()}glob(){var e,t;return o(this,void 0,void 0,(function*(){const r=[];try{for(var n,s=a(this.globGenerator());!(n=yield s.next()).done;){const e=n.value;r.push(e)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=s.return)&&(yield t.call(s))}finally{if(e)throw e.error}}return r}))}globGenerator(){return c(this,arguments,(function*(){const e=d.getOptions(this.options),t=[];for(const r of this.patterns)t.push(r),e.implicitDescendants&&(r.trailingSeparator||"**"!==r.segments[r.segments.length-1])&&t.push(new g.Pattern(r.negate,!0,r.segments.concat("**")));const r=[];for(const e of h.getSearchPaths(t)){l.debug(`Search path '${e}'`);try{yield u(f.promises.lstat(e))}catch(e){if("ENOENT"===e.code)continue;throw e}r.unshift(new y.SearchState(e,1))}const n=[];for(;r.length;){const s=r.pop(),i=h.match(t,s.path),o=!!i||h.partialMatch(t,s.path);if(!i&&!o)continue;const a=yield u(v.stat(s,e,n));if(a)if(a.isDirectory()){if(i&m.MatchKind.Directory&&e.matchDirectories)yield yield u(s.path);else if(!o)continue;const t=s.level+1,n=(yield u(f.promises.readdir(s.path))).map((e=>new y.SearchState(p.join(s.path,e),t)));r.push(...n.reverse())}else i&m.MatchKind.File&&(yield yield u(s.path))}}))}static create(e,t){return o(this,void 0,void 0,(function*(){const r=new v(t);b&&(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n"));const n=e.split("\n").map((e=>e.trim()));for(const e of n)e&&!e.startsWith("#")&&r.patterns.push(new g.Pattern(e));return r.searchPaths.push(...h.getSearchPaths(r.patterns)),r}))}static stat(e,t,r){return o(this,void 0,void 0,(function*(){let n;if(t.followSymbolicLinks)try{n=yield f.promises.stat(e.path)}catch(r){if("ENOENT"===r.code){if(t.omitBrokenSymbolicLinks)return void l.debug(`Broken symlink '${e.path}'`);throw new Error(`No information found for the path '${e.path}'. This may indicate a broken symbolic link.`)}throw r}else n=yield f.promises.lstat(e.path);if(n.isDirectory()&&t.followSymbolicLinks){const t=yield f.promises.realpath(e.path);for(;r.length>=e.level;)r.pop();if(r.some((e=>e===t)))return void l.debug(`Symlink cycle detected for path '${e.path}' and realpath '${t}'`);r.push(t)}return n}))}}t.DefaultGlobber=v},4781:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.hashFiles=void 0;const u=i(r(6417)),c=i(r(2225)),l=i(r(5747)),f=i(r(2413)),d=i(r(1669)),p=i(r(5622));t.hashFiles=function(e){var t,r,n;return o(this,void 0,void 0,(function*(){let s=!1;const i=null!==(n=process.env.GITHUB_WORKSPACE)&&void 0!==n?n:process.cwd(),o=u.createHash("sha256");let h=0;try{for(var m,g=a(e.globGenerator());!(m=yield g.next()).done;){const e=m.value;if(c.debug(e),!e.startsWith(`${i}${p.sep}`)){c.debug(`Ignore '${e}' since it is not under GITHUB_WORKSPACE.`);continue}if(l.statSync(e).isDirectory()){c.debug(`Skip directory '${e}'.`);continue}const t=u.createHash("sha256"),r=d.promisify(f.pipeline);yield r(l.createReadStream(e),t),o.write(t.digest()),h++,s||(s=!0)}}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=g.return)&&(yield r.call(g))}finally{if(t)throw t.error}}return o.end(),s?(c.debug(`Found ${h} files to hash.`),o.digest("hex")):(c.debug("No matches found for glob"),"")}))}},1365:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MatchKind=void 0,(r=t.MatchKind||(t.MatchKind={}))[r.None=0]="None",r[r.Directory=1]="Directory",r[r.File=2]="File",r[r.All=3]="All"},9783:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.safeTrimTrailingSeparator=t.normalizeSeparators=t.hasRoot=t.hasAbsoluteRoot=t.ensureAbsoluteRoot=t.dirname=void 0;const a=i(r(5622)),u=o(r(2357)),c="win32"===process.platform;function l(e){return u.default(e,"hasAbsoluteRoot parameter 'itemPath' must not be empty"),e=f(e),c?e.startsWith("\\\\")||/^[A-Z]:\\/i.test(e):e.startsWith("/")}function f(e){return e=e||"",c?(e=e.replace(/\//g,"\\"),(/^\\\\+[^\\]/.test(e)?"\\":"")+e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function d(e){return e?(e=f(e)).endsWith(a.sep)?e===a.sep||c&&/^[A-Z]:\\$/i.test(e)?e:e.substr(0,e.length-1):e:""}t.dirname=function(e){if(e=d(e),c&&/^\\\\[^\\]+(\\[^\\]+)?$/.test(e))return e;let t=a.dirname(e);return c&&/^\\\\[^\\]+\\[^\\]+\\$/.test(t)&&(t=d(t)),t},t.ensureAbsoluteRoot=function(e,t){if(u.default(e,"ensureAbsoluteRoot parameter 'root' must not be empty"),u.default(t,"ensureAbsoluteRoot parameter 'itemPath' must not be empty"),l(t))return t;if(c){if(t.match(/^[A-Z]:[^\\/]|^[A-Z]:$/i)){let e=process.cwd();return u.default(e.match(/^[A-Z]:\\/i),`Expected current directory to start with an absolute drive root. Actual '${e}'`),t[0].toUpperCase()===e[0].toUpperCase()?2===t.length?`${t[0]}:\\${e.substr(3)}`:(e.endsWith("\\")||(e+="\\"),`${t[0]}:\\${e.substr(3)}${t.substr(2)}`):`${t[0]}:\\${t.substr(2)}`}if(f(t).match(/^\\$|^\\[^\\]/)){const e=process.cwd();return u.default(e.match(/^[A-Z]:\\/i),`Expected current directory to start with an absolute drive root. Actual '${e}'`),`${e[0]}:\\${t.substr(1)}`}}return u.default(l(e),"ensureAbsoluteRoot parameter 'root' must have an absolute root"),e.endsWith("/")||c&&e.endsWith("\\")||(e+=a.sep),e+t},t.hasAbsoluteRoot=l,t.hasRoot=function(e){return u.default(e,"isRooted parameter 'itemPath' must not be empty"),e=f(e),c?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")},t.normalizeSeparators=f,t.safeTrimTrailingSeparator=d},737:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;const a=i(r(5622)),u=i(r(9783)),c=o(r(2357)),l="win32"===process.platform;t.Path=class{constructor(e){if(this.segments=[],"string"==typeof e)if(c.default(e,"Parameter 'itemPath' must not be empty"),e=u.safeTrimTrailingSeparator(e),u.hasRoot(e)){let t=e,r=u.dirname(t);for(;r!==t;){const e=a.basename(t);this.segments.unshift(e),t=r,r=u.dirname(t)}this.segments.unshift(t)}else this.segments=e.split(a.sep);else{c.default(e.length>0,"Parameter 'itemPath' must not be an empty array");for(let t=0;t<e.length;t++){let r=e[t];c.default(r,"Parameter 'itemPath' must not contain any empty segments"),r=u.normalizeSeparators(e[t]),0===t&&u.hasRoot(r)?(r=u.safeTrimTrailingSeparator(r),c.default(r===u.dirname(r),"Parameter 'itemPath' root segment contains information for multiple segments"),this.segments.push(r)):(c.default(!r.includes(a.sep),"Parameter 'itemPath' contains unexpected path separators"),this.segments.push(r))}}}toString(){let e=this.segments[0],t=e.endsWith(a.sep)||l&&/^[A-Z]:$/i.test(e);for(let r=1;r<this.segments.length;r++)t?t=!1:e+=a.sep,e+=this.segments[r];return e}}},8026:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.partialMatch=t.match=t.getSearchPaths=void 0;const o=i(r(9783)),a=r(1365),u="win32"===process.platform;t.getSearchPaths=function(e){e=e.filter((e=>!e.negate));const t={};for(const r of e)t[u?r.searchPath.toUpperCase():r.searchPath]="candidate";const r=[];for(const n of e){const e=u?n.searchPath.toUpperCase():n.searchPath;if("included"===t[e])continue;let s=!1,i=e,a=o.dirname(i);for(;a!==i;){if(t[a]){s=!0;break}i=a,a=o.dirname(i)}s||(r.push(n.searchPath),t[e]="included")}return r},t.match=function(e,t){let r=a.MatchKind.None;for(const n of e)n.negate?r&=~n.match(t):r|=n.match(t);return r},t.partialMatch=function(e,t){return e.some((e=>!e.negate&&e.partialMatch(t)))}},1603:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Pattern=void 0;const a=i(r(2087)),u=i(r(5622)),c=i(r(9783)),l=o(r(2357)),f=r(1171),d=r(1365),p=r(737),h="win32"===process.platform;class m{constructor(e,t=!1,r,n){let s;if(this.negate=!1,"string"==typeof e)s=e.trim();else{r=r||[],l.default(r.length,"Parameter 'segments' must not empty");const t=m.getLiteral(r[0]);l.default(t&&c.hasAbsoluteRoot(t),"Parameter 'segments' first element must be a root path"),s=new p.Path(r).toString().trim(),e&&(s=`!${s}`)}for(;s.startsWith("!");)this.negate=!this.negate,s=s.substr(1).trim();s=m.fixupPattern(s,n),this.segments=new p.Path(s).segments,this.trailingSeparator=c.normalizeSeparators(s).endsWith(u.sep),s=c.safeTrimTrailingSeparator(s);let i=!1;const o=this.segments.map((e=>m.getLiteral(e))).filter((e=>!i&&!(i=""===e)));this.searchPath=new p.Path(o).toString(),this.rootRegExp=new RegExp(m.regExpEscape(o[0]),h?"i":""),this.isImplicitPattern=t;const a={dot:!0,nobrace:!0,nocase:h,nocomment:!0,noext:!0,nonegate:!0};s=h?s.replace(/\\/g,"/"):s,this.minimatch=new f.Minimatch(s,a)}match(e){return"**"===this.segments[this.segments.length-1]?(e=c.normalizeSeparators(e)).endsWith(u.sep)||!1!==this.isImplicitPattern||(e=`${e}${u.sep}`):e=c.safeTrimTrailingSeparator(e),this.minimatch.match(e)?this.trailingSeparator?d.MatchKind.Directory:d.MatchKind.All:d.MatchKind.None}partialMatch(e){return e=c.safeTrimTrailingSeparator(e),c.dirname(e)===e?this.rootRegExp.test(e):this.minimatch.matchOne(e.split(h?/\\+/:/\/+/),this.minimatch.set[0],!0)}static globEscape(e){return(h?e:e.replace(/\\/g,"\\\\")).replace(/(\[)(?=[^/]+\])/g,"[[]").replace(/\?/g,"[?]").replace(/\*/g,"[*]")}static fixupPattern(e,t){l.default(e,"pattern cannot be empty");const r=new p.Path(e).segments.map((e=>m.getLiteral(e)));if(l.default(r.every(((e,t)=>("."!==e||0===t)&&".."!==e)),`Invalid pattern '${e}'. Relative pathing '.' and '..' is not allowed.`),l.default(!c.hasRoot(e)||r[0],`Invalid pattern '${e}'. Root segment must not contain globs.`),"."===(e=c.normalizeSeparators(e))||e.startsWith(`.${u.sep}`))e=m.globEscape(process.cwd())+e.substr(1);else if("~"===e||e.startsWith(`~${u.sep}`))t=t||a.homedir(),l.default(t,"Unable to determine HOME directory"),l.default(c.hasAbsoluteRoot(t),`Expected HOME directory to be a rooted path. Actual '${t}'`),e=m.globEscape(t)+e.substr(1);else if(h&&(e.match(/^[A-Z]:$/i)||e.match(/^[A-Z]:[^\\]/i))){let t=c.ensureAbsoluteRoot("C:\\dummy-root",e.substr(0,2));e.length>2&&!t.endsWith("\\")&&(t+="\\"),e=m.globEscape(t)+e.substr(2)}else if(h&&("\\"===e||e.match(/^\\[^\\]/))){let t=c.ensureAbsoluteRoot("C:\\dummy-root","\\");t.endsWith("\\")||(t+="\\"),e=m.globEscape(t)+e.substr(1)}else e=c.ensureAbsoluteRoot(m.globEscape(process.cwd()),e);return c.normalizeSeparators(e)}static getLiteral(e){let t="";for(let r=0;r<e.length;r++){const n=e[r];if("\\"===n&&!h&&r+1<e.length)t+=e[++r];else{if("*"===n||"?"===n)return"";if("["===n&&r+1<e.length){let n="",s=-1;for(let t=r+1;t<e.length;t++){const r=e[t];if("\\"===r&&!h&&t+1<e.length)n+=e[++t];else{if("]"===r){s=t;break}n+=r}}if(s>=0){if(n.length>1)return"";if(n){t+=n,r=s;continue}}}t+=n}}return t}static regExpEscape(e){return e.replace(/[[\\^$.|?*+()]/g,"\\$&")}}t.Pattern=m},6509:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchState=void 0,t.SearchState=class{constructor(e,t){this.path=e,this.level=t}}},1513:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(3593))},3593:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(5747),i=n(r(5158)).default("@kwsites/file-exists");t.exists=function(e,r=t.READABLE){return function(e,t,r){i("checking %s",e);try{const n=s.statSync(e);return n.isFile()&&t?(i("[OK] path represents a file"),!0):n.isDirectory()&&r?(i("[OK] path represents a directory"),!0):(i("[FAIL] path represents something other than a file or directory"),!1)}catch(e){if("ENOENT"===e.code)return i("[FAIL] path is not accessible: %o",e),!1;throw i("[FATAL] %o",e),e}}(e,(r&t.FILE)>0,(r&t.FOLDER)>0)},t.FILE=1,t.FOLDER=2,t.READABLE=t.FILE+t.FOLDER},2443:(e,t)=>{"use strict";function r(){let e,t,r="pending";return{promise:new Promise(((r,n)=>{e=r,t=n})),done(t){"pending"===r&&(r="resolved",e(t))},fail(e){"pending"===r&&(r="rejected",t(e))},get fulfilled(){return"pending"!==r},get status(){return r}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createDeferred=t.deferred=void 0,t.deferred=r,t.createDeferred=r,t.default=r},5623:e=>{"use strict";function t(e,t,s){e instanceof RegExp&&(e=r(e,s)),t instanceof RegExp&&(t=r(t,s));var i=n(e,t,s);return i&&{start:i[0],end:i[1],pre:s.slice(0,i[0]),body:s.slice(i[0]+e.length,i[1]),post:s.slice(i[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,s,i,o,a,u=r.indexOf(e),c=r.indexOf(t,u+1),l=u;if(u>=0&&c>0){for(n=[],i=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(e,l+1)):1==n.length?a=[n.pop(),c]:((s=n.pop())<i&&(i=s,o=c),c=r.indexOf(t,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[i,o])}return a}e.exports=t,t.range=n},3644:(e,t,r)=>{var n=r(1048),s=r(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(i).split("\\{").join(o).split("\\}").join(a).split("\\,").join(u).split("\\.").join(c)}(e),!0).map(f)):[]};var i="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function f(e){return e.split(i).join("\\").split(o).join("{").split(a).join("}").split(u).join(",").split(c).join(".")}function d(e){if(!e)return[""];var t=[],r=s("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,o=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var u=d(o);return o.length&&(a[a.length-1]+=u.shift(),a.push.apply(a,u)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function h(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var r=[],i=s("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var o,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),f=u||c,b=i.body.indexOf(",")>=0;if(!f&&!b)return i.post.match(/,.*\}/)?y(e=i.pre+"{"+i.body+a+i.post):[e];if(f)o=i.body.split(/\.\./);else if(1===(o=d(i.body)).length&&1===(o=y(o[0],!1).map(p)).length)return(O=i.post.length?y(i.post,!1):[""]).map((function(e){return i.pre+o[0]+e}));var v,_=i.pre,O=i.post.length?y(i.post,!1):[""];if(f){var k=l(o[0]),T=l(o[1]),w=Math.max(o[0].length,o[1].length),P=3==o.length?Math.abs(l(o[2])):1,E=m;T<k&&(P*=-1,E=g);var S=o.some(h);v=[];for(var C=k;E(C,T);C+=P){var M;if(c)"\\"===(M=String.fromCharCode(C))&&(M="");else if(M=String(C),S){var j=w-M.length;if(j>0){var R=new Array(j+1).join("0");M=C<0?"-"+R+M.slice(1):R+M}}v.push(M)}}else v=n(o,(function(e){return y(e,!1)}));for(var x=0;x<v.length;x++)for(var A=0;A<O.length;A++){var D=_+v[x]+O[A];(!t||f||D)&&r.push(D)}return r}},1048:e=>{e.exports=function(e,r){for(var n=[],s=0;s<e.length;s++){var i=r(e[s],s);t(i)?n.push.apply(n,i):n.push(i)}return n};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},1227:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(s=n))})),t.splice(s,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,r)=>{e.exports=function(e){function t(e){let r,s,i,o=null;function a(...e){if(!a.enabled)return;const n=a,s=Number(new Date),i=s-(r||s);n.diff=i,n.prev=r,n.curr=s,r=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,s)=>{if("%%"===r)return"%";o++;const i=t.formatters[s];if("function"==typeof i){const t=e[o];r=i.call(n,t),e.splice(o,1),o--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(s!==t.namespaces&&(s=t.namespaces,i=t.enabled(e)),i),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),s=n.length;for(r=0;r<s;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(1227):e.exports=r(39)},39:(e,t,r)=>{const n=r(3867),s=r(1669);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(s.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:s}=this;if(s){const t=this.color,s="[3"+(t<8?t:"8;5;"+t),i=`  ${s};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(2447)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return-1!==n&&(-1===s||n<s)}},1171:(e,t,r)=>{e.exports=d,d.Minimatch=p;var n={sep:"/"};try{n=r(5622)}catch(e){}var s=d.GLOBSTAR=p.GLOBSTAR={},i=r(3644),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",u="[^/]*?",c="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function f(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function d(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new p(t,r).match(e))}function p(e,t){if(!(this instanceof p))return new p(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==n.sep&&(e=e.split(n.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function h(e,t){if(t||(t=this instanceof p?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:i(e)}d.filter=function(e,t){return t=t||{},function(r,n,s){return d(r,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,r=function(r,n,s){return t.minimatch(r,n,f(e,s))};return r.Minimatch=function(r,n){return new t.Minimatch(r,f(e,n))},r},p.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:p},p.prototype.debug=function(){},p.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(l)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var n=0,s=e.length;n<s&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},d.braceExpand=function(e,t){return h(e,t)},p.prototype.braceExpand=h,p.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return s;if(""===e)return"";var n,i="",l=!!r.nocase,f=!1,d=[],p=[],h=!1,g=-1,y=-1,b="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=this;function _(){if(n){switch(n){case"*":i+=u,l=!0;break;case"?":i+=a,l=!0;break;default:i+="\\"+n}v.debug("clearStateChar %j %j",n,i),n=!1}}for(var O,k=0,T=e.length;k<T&&(O=e.charAt(k));k++)if(this.debug("%s\t%s %s %j",e,k,i,O),f&&c[O])i+="\\"+O,f=!1;else switch(O){case"/":return!1;case"\\":_(),f=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,k,i,O),h){this.debug("  in class"),"!"===O&&k===y+1&&(O="^"),i+=O;continue}v.debug("call clearStateChar %j",n),_(),n=O,r.noext&&_();continue;case"(":if(h){i+="(";continue}if(!n){i+="\\(";continue}d.push({type:n,start:k-1,reStart:i.length,open:o[n].open,close:o[n].close}),i+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,i),n=!1;continue;case")":if(h||!d.length){i+="\\)";continue}_(),l=!0;var w=d.pop();i+=w.close,"!"===w.type&&p.push(w),w.reEnd=i.length;continue;case"|":if(h||!d.length||f){i+="\\|",f=!1;continue}_(),i+="|";continue;case"[":if(_(),h){i+="\\"+O;continue}h=!0,y=k,g=i.length,i+=O;continue;case"]":if(k===y+1||!h){i+="\\"+O,f=!1;continue}if(h){var P=e.substring(y+1,k);try{RegExp("["+P+"]")}catch(e){var E=this.parse(P,m);i=i.substr(0,g)+"\\["+E[0]+"\\]",l=l||E[1],h=!1;continue}}l=!0,h=!1,i+=O;continue;default:_(),f?f=!1:!c[O]||"^"===O&&h||(i+="\\"),i+=O}for(h&&(P=e.substr(y+1),E=this.parse(P,m),i=i.substr(0,g)+"\\["+E[0],l=l||E[1]),w=d.pop();w;w=d.pop()){var S=i.slice(w.reStart+w.open.length);this.debug("setting tail",i,w),S=S.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",S,S,w,i);var C="*"===w.type?u:"?"===w.type?a:"\\"+w.type;l=!0,i=i.slice(0,w.reStart)+C+"\\("+S}_(),f&&(i+="\\\\");var M=!1;switch(i.charAt(0)){case".":case"[":case"(":M=!0}for(var j=p.length-1;j>-1;j--){var R=p[j],x=i.slice(0,R.reStart),A=i.slice(R.reStart,R.reEnd-8),D=i.slice(R.reEnd-8,R.reEnd),F=i.slice(R.reEnd);D+=F;var L=x.split("(").length-1,I=F;for(k=0;k<L;k++)I=I.replace(/\)[+*?]?/,"");var N="";""===(F=I)&&t!==m&&(N="$"),i=x+A+F+N+D}if(""!==i&&l&&(i="(?=.)"+i),M&&(i=b+i),t===m)return[i,l];if(!l)return e.replace(/\\(.)/g,"$1");var $=r.nocase?"i":"";try{var B=new RegExp("^"+i+"$",$)}catch(e){return new RegExp("$.")}return B._glob=e,B._src=i,B};var m={};d.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",n=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===s?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,r){var n=new p(t,r=r||{});return e=e.filter((function(e){return n.match(e)})),n.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==n.sep&&(e=e.split(n.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var s,i,o=this.set;for(this.debug(this.pattern,"set",o),i=e.length-1;i>=0&&!(s=e[i]);i--);for(i=0;i<o.length;i++){var a=o[i],u=e;if(r.matchBase&&1===a.length&&(u=[s]),this.matchOne(u,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,o=0,a=e.length,u=t.length;i<a&&o<u;i++,o++){this.debug("matchOne loop");var c,l=t[o],f=e[i];if(this.debug(t,l,f),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,f]);var d=i,p=o+1;if(p===u){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!n.dot&&"."===e[i].charAt(0))return!1;return!0}for(;d<a;){var h=e[d];if(this.debug("\nglobstar while",e,d,t,p,h),this.matchOne(e.slice(d),t.slice(p),r))return this.debug("globstar found match!",d,a,h),!0;if("."===h||".."===h||!n.dot&&"."===h.charAt(0)){this.debug("dot detected!",e,d,t,p);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!r||(this.debug("\n>>> no match, partial?",e,d,t,p),d!==a))}if("string"==typeof l?(c=n.nocase?f.toLowerCase()===l.toLowerCase():f===l,this.debug("string match",l,f,c)):(c=f.match(l),this.debug("pattern match",l,f,c)),!c)return!1}if(i===a&&o===u)return!0;if(i===a)return r;if(o===u)return i===a-1&&""===e[i];throw new Error("wtf?")}},7824:e=>{var t=1e3,r=60*t,n=60*r,s=24*n;function i(e,t,r,n){var s=t>=1.5*r;return Math.round(e/r)+" "+n+(s?"s":"")}e.exports=function(e,o){o=o||{};var a,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var o=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===c&&isFinite(e))return o.long?(a=e,(u=Math.abs(a))>=s?i(a,u,s,"day"):u>=n?i(a,u,n,"hour"):u>=r?i(a,u,r,"minute"):u>=t?i(a,u,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=s?Math.round(e/s)+"d":i>=n?Math.round(e/n)+"h":i>=r?Math.round(e/r)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},4956:(e,t,r)=>{const{GitExecutor:n}=r(3051),{SimpleGitApi:s}=r(5365),{Scheduler:i}=r(6935),{GitLogger:o}=r(2957),{configurationErrorTask:a}=r(6637),{asArray:u,filterArray:c,filterPrimitives:l,filterString:f,filterStringOrStringArray:d,filterType:p,getTrailingOptions:h,trailingFunctionArgument:m,trailingOptionsArgument:g}=r(1050),{applyPatchTask:y}=r(829),{branchTask:b,branchLocalTask:v,deleteBranchesTask:_,deleteBranchTask:O}=r(7260),{checkIgnoreTask:k}=r(5628),{checkIsRepoTask:T}=r(6399),{cloneTask:w,cloneMirrorTask:P}=r(6188),{addConfigTask:E,listConfigTask:S}=r(3803),{cleanWithOptionsTask:C,isCleanOptionsArray:M}=r(8709),{commitTask:j}=r(4024),{diffSummaryTask:R}=r(5062),{fetchTask:x}=r(5644),{hashObjectTask:A}=r(6100),{initTask:D}=r(4186),{logTask:F,parseLogOptions:L}=r(3693),{mergeTask:I}=r(1474),{moveTask:N}=r(3773),{pullTask:$}=r(7868),{pushTagsTask:B}=r(4721),{addRemoteTask:G,getRemotesTask:U,listRemotesTask:W,remoteTask:q,removeRemoteTask:z}=r(4441),{getResetMode:H,resetTask:V}=r(2337),{stashListTask:K}=r(5368),{statusTask:Y}=r(3054),{addSubModuleTask:Z,initSubModuleTask:Q,subModuleTask:J,updateSubModuleTask:X}=r(8278),{addAnnotatedTagTask:ee,addTagTask:te,tagListTask:re}=r(6316),{straightThroughBufferTask:ne,straightThroughStringTask:se}=r(6637);function ie(e,t){this._executor=new n(e.binary,e.baseDir,new i(e.maxConcurrentProcesses),t),this._logger=new o}function oe(e,t,r,n){return"string"!=typeof r?a(`git.${e}() requires a string 'repoPath'`):t(r,p(n,f),h(arguments))}(ie.prototype=Object.create(s.prototype)).constructor=ie,ie.prototype._logger=null,ie.prototype.customBinary=function(e){return this._executor.binary=e,this},ie.prototype.env=function(e,t){return 1===arguments.length&&"object"==typeof e?this._executor.env=e:(this._executor.env=this._executor.env||{})[e]=t,this},ie.prototype.stashList=function(e){return this._runTask(K(g(arguments)||{},c(e)&&e||[]),m(arguments))},ie.prototype.clone=function(){return this._runTask(oe("clone",w,...arguments),m(arguments))},ie.prototype.mirror=function(){return this._runTask(oe("mirror",P,...arguments),m(arguments))},ie.prototype.mv=function(e,t){return this._runTask(N(e,t),m(arguments))},ie.prototype.checkoutLatestTag=function(e){var t=this;return this.pull((function(){t.tags((function(r,n){t.checkout(n.latest,e)}))}))},ie.prototype.commit=function(e,t,r,n){const s=m(arguments),i=[];return d(e)?i.push(...u(e)):console.warn("simple-git deprecation notice: git.commit: requires the commit message to be supplied as a string/string[], this will be an error in version 3"),this._runTask(j(i,u(p(t,d,[])),[...p(r,c,[]),...h(arguments,0,!0)]),s)},ie.prototype.pull=function(e,t,r,n){return this._runTask($(p(e,f),p(t,f),h(arguments)),m(arguments))},ie.prototype.fetch=function(e,t){return this._runTask(x(p(e,f),p(t,f),h(arguments)),m(arguments))},ie.prototype.silent=function(e){return console.warn("simple-git deprecation notice: git.silent: logging should be configured using the `debug` library / `DEBUG` environment variable, this will be an error in version 3"),this._logger.silent(!!e),this},ie.prototype.tags=function(e,t){return this._runTask(re(h(arguments)),m(arguments))},ie.prototype.rebase=function(){return this._runTask(se(["rebase",...h(arguments)]),m(arguments))},ie.prototype.reset=function(e){return this._runTask(V(H(e),h(arguments)),m(arguments))},ie.prototype.revert=function(e){const t=m(arguments);return"string"!=typeof e?this._runTask(a("Commit must be a string"),t):this._runTask(se(["revert",...h(arguments,0,!0),e]),t)},ie.prototype.addTag=function(e){const t="string"==typeof e?te(e):a("Git.addTag requires a tag name");return this._runTask(t,m(arguments))},ie.prototype.addAnnotatedTag=function(e,t){return this._runTask(ee(e,t),m(arguments))},ie.prototype.checkout=function(){const e=["checkout",...h(arguments,!0)];return this._runTask(se(e),m(arguments))},ie.prototype.checkoutBranch=function(e,t,r){return this.checkout(["-b",e,t],m(arguments))},ie.prototype.checkoutLocalBranch=function(e,t){return this.checkout(["-b",e],m(arguments))},ie.prototype.deleteLocalBranch=function(e,t,r){return this._runTask(O(e,"boolean"==typeof t&&t),m(arguments))},ie.prototype.deleteLocalBranches=function(e,t,r){return this._runTask(_(e,"boolean"==typeof t&&t),m(arguments))},ie.prototype.branch=function(e,t){return this._runTask(b(h(arguments)),m(arguments))},ie.prototype.branchLocal=function(e){return this._runTask(v(),m(arguments))},ie.prototype.addConfig=function(e,t,r,n){return this._runTask(E(e,t,"boolean"==typeof r&&r),m(arguments))},ie.prototype.listConfig=function(){return this._runTask(S(),m(arguments))},ie.prototype.raw=function(e){const t=!Array.isArray(e),r=[].slice.call(t?arguments:e,0);for(let e=0;e<r.length&&t;e++)if(!l(r[e])){r.splice(e,r.length-e);break}r.push(...h(arguments,0,!0));var n=m(arguments);return r.length?this._runTask(se(r),n):this._runTask(a("Raw: must supply one or more command to execute"),n)},ie.prototype.submoduleAdd=function(e,t,r){return this._runTask(Z(e,t),m(arguments))},ie.prototype.submoduleUpdate=function(e,t){return this._runTask(X(h(arguments,!0)),m(arguments))},ie.prototype.submoduleInit=function(e,t){return this._runTask(Q(h(arguments,!0)),m(arguments))},ie.prototype.subModule=function(e,t){return this._runTask(J(h(arguments)),m(arguments))},ie.prototype.listRemote=function(){return this._runTask(W(h(arguments)),m(arguments))},ie.prototype.addRemote=function(e,t,r){return this._runTask(G(e,t,h(arguments)),m(arguments))},ie.prototype.removeRemote=function(e,t){return this._runTask(z(e),m(arguments))},ie.prototype.getRemotes=function(e,t){return this._runTask(U(!0===e),m(arguments))},ie.prototype.hashObject=function(e,t){return this._runTask(A(e,!0===t),m(arguments))},ie.prototype.remote=function(e,t){return this._runTask(q(h(arguments)),m(arguments))},ie.prototype.tag=function(e,t){const r=h(arguments);return"tag"!==r[0]&&r.unshift("tag"),this._runTask(se(r),m(arguments))},ie.prototype.updateServerInfo=function(e){return this._runTask(se(["update-server-info"]),m(arguments))},ie.prototype.pushTags=function(e,t){const r=B({remote:p(e,f)},h(arguments));return this._runTask(r,m(arguments))},ie.prototype.rm=function(e){return this._runTask(se(["rm","-f",...u(e)]),m(arguments))},ie.prototype.rmKeepLocal=function(e){return this._runTask(se(["rm","--cached",...u(e)]),m(arguments))},ie.prototype.catFile=function(e,t){return this._catFile("utf-8",arguments)},ie.prototype.binaryCatFile=function(){return this._catFile("buffer",arguments)},ie.prototype._catFile=function(e,t){var r=m(t),n=["cat-file"],s=t[0];if("string"==typeof s)return this._runTask(a("Git.catFile: options must be supplied as an array of strings"),r);Array.isArray(s)&&n.push.apply(n,s);const i="buffer"===e?ne(n):se(n);return this._runTask(i,r)},ie.prototype.diff=function(e,t){const r=["diff",...h(arguments)];return"string"==typeof e&&(r.splice(1,0,e),this._logger.warn("Git#diff: supplying options as a single string is now deprecated, switch to an array of strings")),this._runTask(se(r),m(arguments))},ie.prototype.diffSummary=function(){return this._runTask(R(h(arguments,1)),m(arguments))},ie.prototype.applyPatch=function(e){const t=d(e)?y(u(e),h([].slice.call(arguments,1))):a("git.applyPatch requires one or more string patches as the first argument");return this._runTask(t,m(arguments))},ie.prototype.revparse=function(){const e=["rev-parse",...h(arguments,!0)];return this._runTask(se(e,!0),m(arguments))},ie.prototype.show=function(e,t){return this._runTask(se(["show",...h(arguments,1)]),m(arguments))},ie.prototype.clean=function(e,t,r){const n=M(e),s=n&&e.join("")||p(e,f)||"",i=h([].slice.call(arguments,n?1:0));return this._runTask(C(s,i),m(arguments))},ie.prototype.exec=function(e){const t={commands:[],format:"utf-8",parser(){"function"==typeof e&&e()}};return this._runTask(t)},ie.prototype.log=function(e){const t=m(arguments);if(f(arguments[0])&&f(arguments[1]))return this._runTask(a("git.log(string, string) should be replaced with git.log({ from: string, to: string })"),t);const r=L(g(arguments)||{},c(e)&&e||[]);return this._runTask(F(r.splitter,r.fields,r.commands),t)},ie.prototype.clearQueue=function(){return this},ie.prototype.checkIgnore=function(e,t){return this._runTask(k(u(p(e,d,[]))),m(arguments))},ie.prototype.checkIsRepo=function(e,t){return this._runTask(T(p(e,f)),m(arguments))},e.exports=ie},7056:(e,t,r)=>{const{gitP:n}=r(5055),{esModuleFactory:s,gitInstanceFactory:i,gitExportFactory:o}=r(8744);e.exports=s(o(i,{gitP:n}))},7286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9831),s=r(2437),i=r(1159),o=r(9009),a=r(6958),u=r(6399),c=r(8709),l=r(2337),f={CheckRepoActions:u.CheckRepoActions,CleanOptions:c.CleanOptions,GitConstructError:n.GitConstructError,GitError:s.GitError,GitPluginError:i.GitPluginError,GitResponseError:o.GitResponseError,ResetMode:l.ResetMode,TaskConfigurationError:a.TaskConfigurationError};t.default=f},9831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitConstructError=void 0;const n=r(2437);class s extends n.GitError{constructor(e,t){super(void 0,t),this.config=e}}t.GitConstructError=s},2437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitError=void 0;class r extends Error{constructor(e,t){super(t),this.task=e,Object.setPrototypeOf(this,new.target.prototype)}}t.GitError=r},1159:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitPluginError=void 0;const n=r(2437);class s extends n.GitError{constructor(e,t,r){super(e,r),this.task=e,this.plugin=t,Object.setPrototypeOf(this,new.target.prototype)}}t.GitPluginError=s},9009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitResponseError=void 0;const n=r(2437);class s extends n.GitError{constructor(e,t){super(void 0,t||String(e)),this.git=e}}t.GitResponseError=s},6958:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskConfigurationError=void 0;const n=r(2437);class s extends n.GitError{constructor(e){super(void 0,e)}}t.TaskConfigurationError=s},8744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gitInstanceFactory=t.gitExportFactory=t.esModuleFactory=void 0;const n=r(7286),s=r(8414),i=r(1050),o=r(4956);t.esModuleFactory=function(e){return Object.defineProperties(e,{__esModule:{value:!0},default:{value:e}})},t.gitExportFactory=function(e,t){return Object.assign((function(...t){return e.apply(null,t)}),n.default,t||{})},t.gitInstanceFactory=function(e,t){const r=new s.PluginStore,a=i.createInstanceConfig(e&&("string"==typeof e?{baseDir:e}:e)||{},t);if(!i.folderExists(a.baseDir))throw new n.default.GitConstructError(a,"Cannot use simple-git on a directory that does not exist");return Array.isArray(a.config)&&r.add(s.commandConfigPrefixingPlugin(a.config)),a.progress&&r.add(s.progressMonitorPlugin(a.progress)),a.timeout&&r.add(s.timeoutPlugin(a.timeout)),a.spawnOptions&&r.add(s.spawnOptionsPlugin(a.spawnOptions)),r.add(s.errorDetectionPlugin(s.errorDetectionHandler(!0))),a.errors&&r.add(s.errorDetectionPlugin(a.errors)),new o(a,r)}},2957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitLogger=t.createLogger=void 0;const n=r(5158),s=r(1050);function i(){return n.default("simple-git")}function o(e,t,r){return t&&String(t).replace(/\s*/,"")?(n,...s)=>{e(`%s ${n}`,t,...s),r&&r(n,...s)}:r?(t,...n)=>{e(t,...n),r(t,...n)}:e}n.default.formatters.L=e=>String(s.filterHasLength(e)?e.length:"-"),n.default.formatters.B=e=>Buffer.isBuffer(e)?e.toString("utf8"):s.objectToString(e),t.createLogger=function e(t,r,n,a=i()){const u=t&&`[${t}]`||"",c=[],l="string"==typeof r?a.extend(r):r,f=function(e,t,{namespace:r}){if("string"==typeof e)return e;const n=t&&t.namespace||"";return n.startsWith(r)?n.substr(r.length+1):n||r}(s.filterType(r,s.filterString),l,a);return function e(r){const n=r&&`[${r}]`||"",i=l&&o(l,n)||s.NOOP,c=o(a,`${u} ${n}`,i);return Object.assign(l?i:c,{label:t,sibling:d,info:c,step:e})}(n);function d(r,n){return s.append(c,e(t,f.replace(/^[^:]+/,r),n,a))}},t.GitLogger=class{constructor(e=i()){this._out=e,this.error=o(e,"[ERROR]"),this.warn=o(e,"[WARN]")}silent(e=!1){if(e!==this._out.enabled)return;const{namespace:t}=this._out,r=(process.env.DEBUG||"").split(",").filter((e=>!!e)),i=r.includes(t),o=r.includes(`-${t}`);e?i?s.remove(r,t):r.push(`-${t}`):o?s.remove(r,`-${t}`):r.push(t),n.default.enable(r.join(","))}}},8966:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBranchDeletionError=t.parseBranchDeletions=void 0;const n=r(267),s=r(1050),i=/^error[^']+'([^']+)'/m,o=[new s.LineParser(/(\S+)\s+\(\S+\s([^)]+)\)/,((e,[t,r])=>{const s=n.branchDeletionSuccess(t,r);e.all.push(s),e.branches[t]=s})),new s.LineParser(i,((e,[t])=>{const r=n.branchDeletionFailure(t);e.errors.push(r),e.all.push(r),e.branches[t]=r}))];t.parseBranchDeletions=(e,t)=>s.parseStringResponse(new n.BranchDeletionBatch,o,e,t),t.hasBranchDeletionError=function(e,t){return t===s.ExitCodes.ERROR&&i.test(e)}},5279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBranchSummary=void 0;const n=r(6395),s=r(1050),i=[new s.LineParser(/^(\*\s)?\((?:HEAD )?detached (?:from|at) (\S+)\)\s+([a-z0-9]+)\s(.*)$/,((e,[t,r,n,s])=>{e.push(!!t,!0,r,n,s)})),new s.LineParser(/^(\*\s)?(\S+)\s+([a-z0-9]+)\s(.*)$/s,((e,[t,r,n,s])=>{e.push(!!t,!1,r,n,s)}))];t.parseBranchSummary=function(e){return s.parseStringResponse(new n.BranchSummaryResult,i,e)}},952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCommitResult=void 0;const n=r(1050),s=[new n.LineParser(/\[([^\s]+)( \([^)]+\))? ([^\]]+)/,((e,[t,r,n])=>{e.branch=t,e.commit=n,e.root=!!r})),new n.LineParser(/\s*Author:\s(.+)/i,((e,[t])=>{const r=t.split("<"),n=r.pop();n&&n.includes("@")&&(e.author={email:n.substr(0,n.length-1),name:r.join("<").trim()})})),new n.LineParser(/(\d+)[^,]*(?:,\s*(\d+)[^,]*)(?:,\s*(\d+))/g,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0,e.summary.insertions=parseInt(r,10)||0,e.summary.deletions=parseInt(n,10)||0})),new n.LineParser(/^(\d+)[^,]*(?:,\s*(\d+)[^(]+\(([+-]))?/,((e,[t,r,n])=>{e.summary.changes=parseInt(t,10)||0;const s=parseInt(r,10)||0;"-"===n?e.summary.deletions=s:"+"===n&&(e.summary.insertions=s)}))];t.parseCommitResult=function(e){return n.parseStringResponse({author:null,branch:"",commit:"",root:!1,summary:{changes:0,insertions:0,deletions:0}},s,e)}},2500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDiffResult=void 0;const n=r(3252);t.parseDiffResult=function(e){const t=e.trim().split("\n"),r=new n.DiffSummary;!function(e,t){(t||"").trim().split(", ").forEach((function(t){const r=/(\d+)\s([a-z]+)/.exec(t);r&&function(e,t,r){const n=/([a-z]+?)s?\b/.exec(t);n&&s[n[1]]&&s[n[1]](e,r)}(e,r[2],parseInt(r[1],10))}))}(r,t.pop());for(let e=0,n=t.length;e<n;e++){const n=t[e];i(n,r)||o(n,r)}return r};const s={file(e,t){e.changed=t},deletion(e,t){e.deletions=t},insertion(e,t){e.insertions=t}};function i(e,{files:t}){const r=e.trim().match(/^(.+)\s+\|\s+(\d+)(\s+[+\-]+)?$/);if(r){var n=(r[3]||"").trim();return t.push({file:r[1].trim(),changes:parseInt(r[2],10),insertions:n.replace(/-/g,"").length,deletions:n.replace(/\+/g,"").length,binary:!1}),!0}return!1}function o(e,{files:t}){const r=e.match(/^(.+) \|\s+Bin ([0-9.]+) -> ([0-9.]+) ([a-z]+)$/);return!!r&&(t.push({file:r[1].trim(),before:+r[2],after:+r[3],binary:!0}),!0)}},4088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFetchResult=void 0;const n=r(1050),s=[new n.LineParser(/From (.+)$/,((e,[t])=>{e.remote=t})),new n.LineParser(/\* \[new branch]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.branches.push({name:t,tracking:r})})),new n.LineParser(/\* \[new tag]\s+(\S+)\s*-> (.+)$/,((e,[t,r])=>{e.tags.push({name:t,tracking:r})}))];t.parseFetchResult=function(e,t){const r={raw:e,remote:null,branches:[],tags:[]};return n.parseStringResponse(r,s,e,t)}},4688:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createListLogSummaryParser=t.SPLITTER=t.COMMIT_BOUNDARY=t.START_BOUNDARY=void 0;const n=r(1050),s=r(2500);t.START_BOUNDARY="òòòòòò ",t.COMMIT_BOUNDARY=" òò",t.SPLITTER=" ò ";const i=["hash","date","message","refs","author_name","author_email"];t.createListLogSummaryParser=function(e=t.SPLITTER,r=i){return function(i){const o=n.toLinesWithContent(i,!0,t.START_BOUNDARY).map((function(n){const i=n.trim().split(t.COMMIT_BOUNDARY),o=function(e,t){return t.reduce(((t,r,n)=>(t[r]=e[n]||"",t)),Object.create({diff:null}))}(i[0].trim().split(e),r);return i.length>1&&i[1].trim()&&(o.diff=s.parseDiffResult(i[1])),o}));return{all:o,latest:o.length&&o[0]||null,total:o.length}}}},476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMergeDetail=t.parseMergeResult=void 0;const n=r(435),s=r(1050),i=r(5497),o=[new s.LineParser(/^Auto-merging\s+(.+)$/,((e,[t])=>{e.merges.push(t)})),new s.LineParser(/^CONFLICT\s+\((.+)\): Merge conflict in (.+)$/,((e,[t,r])=>{e.conflicts.push(new n.MergeSummaryConflict(t,r))})),new s.LineParser(/^CONFLICT\s+\((.+\/delete)\): (.+) deleted in (.+) and/,((e,[t,r,s])=>{e.conflicts.push(new n.MergeSummaryConflict(t,r,{deleteRef:s}))})),new s.LineParser(/^CONFLICT\s+\((.+)\):/,((e,[t])=>{e.conflicts.push(new n.MergeSummaryConflict(t,null))})),new s.LineParser(/^Automatic merge failed;\s+(.+)$/,((e,[t])=>{e.result=t}))];t.parseMergeResult=(e,r)=>Object.assign(t.parseMergeDetail(e,r),i.parsePullResult(e,r)),t.parseMergeDetail=e=>s.parseStringResponse(new n.MergeSummaryDetail,o,e)},1425:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMoveResult=void 0;const n=r(1050),s=[new n.LineParser(/^Renaming (.+) to (.+)$/,((e,[t,r])=>{e.moves.push({from:t,to:r})}))];t.parseMoveResult=function(e){return n.parseStringResponse({moves:[]},s,e)}},5497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePullResult=t.parsePullDetail=void 0;const n=r(1156),s=r(1050),i=r(2753),o=[new s.LineParser(/^\s*(.+?)\s+\|\s+\d+\s*(\+*)(-*)/,((e,[t,r,n])=>{e.files.push(t),r&&(e.insertions[t]=r.length),n&&(e.deletions[t]=n.length)})),new s.LineParser(/(\d+)\D+((\d+)\D+\(\+\))?(\D+(\d+)\D+\(-\))?/,((e,[t,,r,,n])=>(void 0!==r||void 0!==n)&&(e.summary.changes=+t||0,e.summary.insertions=+r||0,e.summary.deletions=+n||0,!0))),new s.LineParser(/^(create|delete) mode \d+ (.+)/,((e,[t,r])=>{s.append(e.files,r),s.append("create"===t?e.created:e.deleted,r)}))];t.parsePullDetail=(e,t)=>s.parseStringResponse(new n.PullSummary,o,e,t),t.parsePullResult=(e,r)=>Object.assign(new n.PullSummary,t.parsePullDetail(e,r),i.parseRemoteMessages(e,r))},7867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePushDetail=t.parsePushResult=void 0;const n=r(1050),s=r(2753),i=[new n.LineParser(/^Pushing to (.+)$/,((e,[t])=>{e.repo=t})),new n.LineParser(/^updating local tracking ref '(.+)'/,((e,[t])=>{e.ref=Object.assign(Object.assign({},e.ref||{}),{local:t})})),new n.LineParser(/^[*-=]\s+([^:]+):(\S+)\s+\[(.+)]$/,((e,[t,r,n])=>{e.pushed.push(function(e,t,r){const n=r.includes("deleted"),s=r.includes("tag")||/^refs\/tags/.test(e),i=!r.includes("new");return{deleted:n,tag:s,branch:!s,new:!i,alreadyUpdated:i,local:e,remote:t}}(t,r,n))})),new n.LineParser(/^Branch '([^']+)' set up to track remote branch '([^']+)' from '([^']+)'/,((e,[t,r,n])=>{e.branch=Object.assign(Object.assign({},e.branch||{}),{local:t,remote:r,remoteName:n})})),new n.LineParser(/^([^:]+):(\S+)\s+([a-z0-9]+)\.\.([a-z0-9]+)$/,((e,[t,r,n,s])=>{e.update={head:{local:t,remote:r},hash:{from:n,to:s}}}))];t.parsePushResult=(e,r)=>{const n=t.parsePushDetail(e,r),i=s.parseRemoteMessages(e,r);return Object.assign(Object.assign({},n),i)},t.parsePushDetail=(e,t)=>n.parseStringResponse({pushed:[]},i,e,t)},2753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteMessageSummary=t.parseRemoteMessages=void 0;const n=r(1050),s=r(6035),i=[new n.RemoteLineParser(/^remote:\s*(.+)$/,((e,[t])=>(e.remoteMessages.all.push(t.trim()),!1))),...s.remoteMessagesObjectParsers,new n.RemoteLineParser([/create a (?:pull|merge) request/i,/\s(https?:\/\/\S+)$/],((e,[t])=>{e.remoteMessages.pullRequestUrl=t})),new n.RemoteLineParser([/found (\d+) vulnerabilities.+\(([^)]+)\)/i,/\s(https?:\/\/\S+)$/],((e,[t,r,s])=>{e.remoteMessages.vulnerabilities={count:n.asNumber(t),summary:r,url:s}}))];t.parseRemoteMessages=function(e,t){return n.parseStringResponse({remoteMessages:new o},i,t)};class o{constructor(){this.all=[]}}t.RemoteMessageSummary=o},6035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remoteMessagesObjectParsers=void 0;const n=r(1050);function s(e){return e.objects=e.objects||{compressing:0,counting:0,enumerating:0,packReused:0,reused:{count:0,delta:0},total:{count:0,delta:0}}}function i(e){const t=/^\s*(\d+)/.exec(e),r=/delta (\d+)/i.exec(e);return{count:n.asNumber(t&&t[1]||"0"),delta:n.asNumber(r&&r[1]||"0")}}t.remoteMessagesObjectParsers=[new n.RemoteLineParser(/^remote:\s*(enumerating|counting|compressing) objects: (\d+),/i,((e,[t,r])=>{const i=t.toLowerCase(),o=s(e.remoteMessages);Object.assign(o,{[i]:n.asNumber(r)})})),new n.RemoteLineParser(/^remote:\s*(enumerating|counting|compressing) objects: \d+% \(\d+\/(\d+)\),/i,((e,[t,r])=>{const i=t.toLowerCase(),o=s(e.remoteMessages);Object.assign(o,{[i]:n.asNumber(r)})})),new n.RemoteLineParser(/total ([^,]+), reused ([^,]+), pack-reused (\d+)/i,((e,[t,r,o])=>{const a=s(e.remoteMessages);a.total=i(t),a.reused=i(r),a.packReused=n.asNumber(o)}))]},9854:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commandConfigPrefixingPlugin=void 0;const n=r(1050);t.commandConfigPrefixingPlugin=function(e){const t=n.prefixedArray(e,"-c");return{type:"spawn.args",action:e=>[...t,...e]}}},6555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorDetectionPlugin=t.errorDetectionHandler=void 0;const n=r(2437);function s(e){return!(!e.exitCode||!e.stdErr.length)}function i(e){return Buffer.concat([...e.stdOut,...e.stdErr])}t.errorDetectionHandler=function(e=!1,t=s,r=i){return(n,s)=>!e&&n||!t(s)?n:r(s)},t.errorDetectionPlugin=function(e){return{type:"task.error",action(t,r){const s=e(t.error,{stdErr:r.stdErr,stdOut:r.stdOut,exitCode:r.exitCode});return Buffer.isBuffer(s)?{error:new n.GitError(void 0,s.toString("utf-8"))}:{error:s}}}}},8414:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(9854),t),s(r(6555),t),s(r(111),t),s(r(7684),t),s(r(3112),t),s(r(3500),t),s(r(4545),t)},111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginStore=void 0;const n=r(1050);t.PluginStore=class{constructor(){this.plugins=new Set}add(e){const t=[];return n.asArray(e).forEach((e=>e&&this.plugins.add(n.append(t,e)))),()=>{t.forEach((e=>this.plugins.delete(e)))}}exec(e,t,r){let n=t;const s=Object.freeze(Object.create(r));for(const t of this.plugins)t.type===e&&(n=t.action(n,s));return n}}},7684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.progressMonitorPlugin=void 0;const n=r(1050);t.progressMonitorPlugin=function(e){const t="--progress",r=["checkout","clone","fetch","pull","push"];return[{type:"spawn.args",action:(e,s)=>r.includes(s.method)?n.including(e,t):e},{type:"spawn.after",action(r,s){var i;s.commands.includes(t)&&(null===(i=s.spawned.stderr)||void 0===i||i.on("data",(t=>{const r=/^([a-zA-Z ]+):\s*(\d+)% \((\d+)\/(\d+)\)/.exec(t.toString("utf8"));var i;r&&e({method:s.method,stage:(i=r[1],String(i.toLowerCase().split(" ",1))||"unknown"),progress:n.asNumber(r[2]),processed:n.asNumber(r[3]),total:n.asNumber(r[4])})})))}}]}},3112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spawnOptionsPlugin=void 0;const n=r(1050);t.spawnOptionsPlugin=function(e){const t=n.pick(e,["uid","gid"]);return{type:"spawn.options",action:e=>Object.assign(Object.assign({},t),e)}}},4545:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutPlugin=void 0;const n=r(1159);t.timeoutPlugin=function({block:e}){if(e>0)return{type:"spawn.after",action(t,r){var s,i;let o;function a(){o&&clearTimeout(o),o=setTimeout(c,e)}function u(){var e,t;null===(e=r.spawned.stdout)||void 0===e||e.off("data",a),null===(t=r.spawned.stderr)||void 0===t||t.off("data",a),r.spawned.off("exit",u),r.spawned.off("close",u)}function c(){u(),r.kill(new n.GitPluginError(void 0,"timeout","block timeout reached"))}null===(s=r.spawned.stdout)||void 0===s||s.on("data",a),null===(i=r.spawned.stderr)||void 0===i||i.on("data",a),r.spawned.on("exit",u),r.spawned.on("close",u),a()}}}},267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSingleBranchDeleteFailure=t.branchDeletionFailure=t.branchDeletionSuccess=t.BranchDeletionBatch=void 0,t.BranchDeletionBatch=class{constructor(){this.all=[],this.branches={},this.errors=[]}get success(){return!this.errors.length}},t.branchDeletionSuccess=function(e,t){return{branch:e,hash:t,success:!0}},t.branchDeletionFailure=function(e){return{branch:e,hash:null,success:!1}},t.isSingleBranchDeleteFailure=function(e){return e.success}},6395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BranchSummaryResult=void 0,t.BranchSummaryResult=class{constructor(){this.all=[],this.branches={},this.current="",this.detached=!1}push(e,t,r,n,s){e&&(this.detached=t,this.current=r),this.all.push(r),this.branches[r]={current:e,name:r,commit:n,label:s}}}},133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCheckIgnore=void 0,t.parseCheckIgnore=e=>e.split(/\n/g).map((e=>e.trim())).filter((e=>!!e))},6766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanSummaryParser=t.CleanResponse=void 0;const n=r(1050);class s{constructor(e){this.dryRun=e,this.paths=[],this.files=[],this.folders=[]}}t.CleanResponse=s;const i=/^[a-z]+\s*/i,o=/^[a-z]+\s+[a-z]+\s*/i,a=/\/$/;t.cleanSummaryParser=function(e,t){const r=new s(e),u=e?o:i;return n.toLinesWithContent(t).forEach((e=>{const t=e.replace(u,"");r.paths.push(t),(a.test(t)?r.folders:r.files).push(t)})),r}},3426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configListParser=t.ConfigList=void 0;const n=r(1050);class s{constructor(){this.files=[],this.values=Object.create(null)}get all(){return this._all||(this._all=this.files.reduce(((e,t)=>Object.assign(e,this.values[t])),{})),this._all}addFile(e){if(!(e in this.values)){const t=n.last(this.files);this.values[e]=t?Object.create(this.values[t]):{},this.files.push(e)}return this.values[e]}addValue(e,t,r){const n=this.addFile(e);n.hasOwnProperty(t)?Array.isArray(n[t])?n[t].push(r):n[t]=[n[t],r]:n[t]=r,this._all=void 0}}t.ConfigList=s,t.configListParser=function(e){const t=new s,r=e.split("\0");for(let e=0,s=r.length-1;e<s;){const s=r[e++].replace(/^(file):/,""),[i,o]=n.splitOn(r[e++],"\n");t.addValue(s,i,o)}return t}},3252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiffSummary=void 0,t.DiffSummary=class{constructor(){this.changed=0,this.deletions=0,this.insertions=0,this.files=[]}}},8991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileStatusSummary=t.fromPathRegex=void 0,t.fromPathRegex=/^(.+) -> (.+)$/,t.FileStatusSummary=class{constructor(e,r,n){if(this.path=e,this.index=r,this.working_dir=n,"R"===r+n){const r=t.fromPathRegex.exec(e)||[null,e,e];this.from=r[1]||"",this.path=r[2]||""}}}},1089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseGetRemotesVerbose=t.parseGetRemotes=void 0;const n=r(1050);function s(e,t){n.forEachLineWithContent(e,(e=>t(e.split(/\s+/))))}t.parseGetRemotes=function(e){const t={};return s(e,(([e])=>t[e]={name:e})),Object.values(t)},t.parseGetRemotesVerbose=function(e){const t={};return s(e,(([e,r,n])=>{t.hasOwnProperty(e)||(t[e]={name:e,refs:{fetch:"",push:""}}),n&&r&&(t[e].refs[n.replace(/[^a-z]/g,"")]=r)})),Object.values(t)}},3367:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInit=t.InitSummary=void 0;class r{constructor(e,t,r,n){this.bare=e,this.path=t,this.existing=r,this.gitDir=n}}t.InitSummary=r;const n=/^Init.+ repository in (.+)$/,s=/^Rein.+ in (.+)$/;t.parseInit=function(e,t,i){const o=String(i).trim();let a;if(a=n.exec(o))return new r(e,t,!1,a[1]);if(a=s.exec(o))return new r(e,t,!0,a[1]);let u="";const c=o.split(" ");for(;c.length;)if("in"===c.shift()){u=c.join(" ");break}return new r(e,t,/^re/i.test(o),u)}},435:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeSummaryDetail=t.MergeSummaryConflict=void 0,t.MergeSummaryConflict=class{constructor(e,t=null,r){this.reason=e,this.file=t,this.meta=r}toString(){return`${this.file}:${this.reason}`}},t.MergeSummaryDetail=class{constructor(){this.conflicts=[],this.merges=[],this.result="success"}get failed(){return this.conflicts.length>0}get reason(){return this.result}toString(){return this.conflicts.length?`CONFLICTS: ${this.conflicts.join(", ")}`:"OK"}}},1156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullSummary=void 0,t.PullSummary=class{constructor(){this.remoteMessages={all:[]},this.created=[],this.deleted=[],this.files=[],this.deletions={},this.insertions={},this.summary={changes:0,deletions:0,insertions:0}}}},9763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStatusSummary=t.StatusSummary=void 0;const n=r(1050),s=r(8991);class i{constructor(){this.not_added=[],this.conflicted=[],this.created=[],this.deleted=[],this.modified=[],this.renamed=[],this.files=[],this.staged=[],this.ahead=0,this.behind=0,this.current=null,this.tracking=null}isClean(){return!this.files.length}}var o;function a(e){const t=/^(.+) -> (.+)$/.exec(e);return t?{from:String(t[1]),to:String(t[2])}:{from:e,to:e}}function u(e,t,r){return[`${e}${t}`,r]}function c(e,...t){return t.map((t=>u(e,t,((e,t)=>n.append(e.conflicted,t)))))}t.StatusSummary=i,function(e){e.ADDED="A",e.DELETED="D",e.MODIFIED="M",e.RENAMED="R",e.COPIED="C",e.UNMERGED="U",e.UNTRACKED="?",e.IGNORED="!",e.NONE=" "}(o||(o={}));const l=new Map([u(o.NONE,o.ADDED,((e,t)=>n.append(e.created,t))),u(o.NONE,o.DELETED,((e,t)=>n.append(e.deleted,t))),u(o.NONE,o.MODIFIED,((e,t)=>n.append(e.modified,t))),u(o.ADDED,o.NONE,((e,t)=>n.append(e.created,t)&&n.append(e.staged,t))),u(o.ADDED,o.MODIFIED,((e,t)=>n.append(e.created,t)&&n.append(e.staged,t)&&n.append(e.modified,t))),u(o.DELETED,o.NONE,((e,t)=>n.append(e.deleted,t)&&n.append(e.staged,t))),u(o.MODIFIED,o.NONE,((e,t)=>n.append(e.modified,t)&&n.append(e.staged,t))),u(o.MODIFIED,o.MODIFIED,((e,t)=>n.append(e.modified,t)&&n.append(e.staged,t))),u(o.RENAMED,o.NONE,((e,t)=>{n.append(e.renamed,a(t))})),u(o.RENAMED,o.MODIFIED,((e,t)=>{const r=a(t);n.append(e.renamed,r),n.append(e.modified,r.to)})),u(o.UNTRACKED,o.UNTRACKED,((e,t)=>n.append(e.not_added,t))),...c(o.ADDED,o.ADDED,o.UNMERGED),...c(o.DELETED,o.DELETED,o.UNMERGED),...c(o.UNMERGED,o.ADDED,o.DELETED,o.UNMERGED),["##",(e,t)=>{let r;r=/ahead (\d+)/.exec(t),e.ahead=r&&+r[1]||0,r=/behind (\d+)/.exec(t),e.behind=r&&+r[1]||0,r=/^(.+?(?=(?:\.{3}|\s|$)))/.exec(t),e.current=r&&r[1],r=/\.{3}(\S*)/.exec(t),e.tracking=r&&r[1],r=/\son\s([\S]+)$/.exec(t),e.current=r&&r[1]||e.current}]]);function f(e,t){const r=t.trim();switch(" "){case r.charAt(2):return n(r.charAt(0),r.charAt(1),r.substr(3));case r.charAt(1):return n(o.NONE,r.charAt(0),r.substr(2));default:return}function n(t,r,n){const i=`${t}${r}`,o=l.get(i);o&&o(e,n),"##"!==i&&e.files.push(new s.FileStatusSummary(n,t,r))}}t.parseStatusSummary=function(e){const t=e.trim().split("\n"),r=new i;for(let e=0,n=t.length;e<n;e++)f(r,t[e]);return r}},1427:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTagList=t.TagList=void 0;class r{constructor(e,t){this.all=e,this.latest=t}}function n(e,t){return e===t?0:e>t?1:-1}function s(e){return e.trim()}function i(e){return"string"==typeof e&&parseInt(e.replace(/^\D+/g,""),10)||0}t.TagList=r,t.parseTagList=function(e,t=!1){const o=e.split("\n").map(s).filter(Boolean);t||o.sort((function(e,t){const r=e.split("."),s=t.split(".");if(1===r.length||1===s.length)return function(e,t){const r=isNaN(e);return r!==isNaN(t)?r?1:-1:r?n(e,t):0}(i(r[0]),i(s[0]));for(let e=0,t=Math.max(r.length,s.length);e<t;e++){const t=n(i(r[e]),i(s[e]));if(t)return t}return 0}));const a=t?o[0]:[...o].reverse().find((e=>e.indexOf(".")>=0));return new r(o,a)}},834:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GitExecutorChain=void 0;const s=r(3129),i=r(2437),o=r(6637),a=r(1050),u=r(5254);function c(e,t){return{method:a.first(e.commands)||"",commands:t}}function l(e,t,r,n){return s=>{r("%s received %L bytes",t,s),n("%B",s),e.push(s)}}t.GitExecutorChain=class{constructor(e,t,r){this._executor=e,this._scheduler=t,this._plugins=r,this._chain=Promise.resolve(),this._queue=new u.TasksPendingQueue}get binary(){return this._executor.binary}get cwd(){return this._cwd||this._executor.cwd}set cwd(e){this._cwd=e}get env(){return this._executor.env}get outputHandler(){return this._executor.outputHandler}chain(){return this}push(e){return this._queue.push(e),this._chain=this._chain.then((()=>this.attemptTask(e)))}attemptTask(e){return n(this,void 0,void 0,(function*(){const t=yield this._scheduler.next(),r=()=>this._queue.complete(e);try{const{logger:n}=this._queue.attempt(e);return yield o.isEmptyTask(e)?this.attemptEmptyTask(e,n):this.attemptRemoteTask(e,n)}catch(t){throw this.onFatalException(e,t)}finally{r(),t()}}))}onFatalException(e,t){const r=t instanceof i.GitError?Object.assign(t,{task:e}):new i.GitError(e,t&&String(t));return this._chain=Promise.resolve(),this._queue.fatal(r),r}attemptRemoteTask(e,t){return n(this,void 0,void 0,(function*(){const r=this._plugins.exec("spawn.args",[...e.commands],c(e,e.commands)),n=yield this.gitResponse(e,this.binary,r,this.outputHandler,t.step("SPAWN")),s=yield this.handleTaskData(e,r,n,t.step("HANDLE"));return t("passing response to task's parser as a %s",e.format),o.isBufferTask(e)?a.callTaskParser(e.parser,s):a.callTaskParser(e.parser,s.asStrings())}))}attemptEmptyTask(e,t){return n(this,void 0,void 0,(function*(){return t("empty task bypassing child process to call to task's parser"),e.parser(this)}))}handleTaskData(e,t,r,n){const{exitCode:s,rejection:i,stdOut:o,stdErr:u}=r;return new Promise(((l,f)=>{n("Preparing to handle process response exitCode=%d stdOut=",s);const{error:d}=this._plugins.exec("task.error",{error:i},Object.assign(Object.assign({},c(e,t)),r));return d&&e.onError?(n.info("exitCode=%s handling with custom error handler"),e.onError(r,d,(e=>{n.info("custom error handler treated as success"),n("custom error returned a %s",a.objectToString(e)),l(new a.GitOutputStreams(Array.isArray(e)?Buffer.concat(e):e,Buffer.concat(u)))}),f)):d?(n.info("handling as error: exitCode=%s stdErr=%s rejection=%o",s,u.length,i),f(d)):(n.info("retrieving task output complete"),void l(new a.GitOutputStreams(Buffer.concat(o),Buffer.concat(u))))}))}gitResponse(e,t,r,i,o){return n(this,void 0,void 0,(function*(){const n=o.sibling("output"),a=this._plugins.exec("spawn.options",{cwd:this.cwd,env:this.env,windowsHide:!0},c(e,e.commands));return new Promise((u=>{const f=[],d=[];let p,h=!1;function m(e,t="retry"){(h||d.length||f.length)&&(o.info("exitCode=%s event=%s rejection=%o",e,t,p),u({stdOut:f,stdErr:d,exitCode:e,rejection:p}),h=!0),h||(h=!0,setTimeout((()=>m(e,"deferred")),50),o("received %s event before content on stdOut/stdErr",t))}o.info("%s %o",t,r),o("%O",a);const g=s.spawn(t,r,a);g.stdout.on("data",l(f,"stdOut",o,n.step("stdOut"))),g.stderr.on("data",l(d,"stdErr",o,n.step("stdErr"))),g.on("error",function(e,t){return r=>{t("[ERROR] child process exception %o",r),e.push(Buffer.from(String(r.stack),"ascii"))}}(d,o)),g.on("close",(e=>m(e,"close"))),g.on("exit",(e=>m(e,"exit"))),i&&(o("Passing child process stdOut/stdErr to custom outputHandler"),i(t,g.stdout,g.stderr,[...r])),this._plugins.exec("spawn.after",void 0,Object.assign(Object.assign({},c(e,r)),{spawned:g,kill(e){g.killed||(p=e,g.kill("SIGINT"))}}))}))}))}}},3051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitExecutor=void 0;const n=r(834);t.GitExecutor=class{constructor(e="git",t,r,s){this.binary=e,this.cwd=t,this._scheduler=r,this._plugins=s,this._chain=new n.GitExecutorChain(this,this._scheduler,this._plugins)}chain(){return new n.GitExecutorChain(this,this._scheduler,this._plugins)}push(e){return this._chain.push(e)}}},5055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gitP=void 0;const n=r(9009),s=r(8744),i=["customBinary","env","outputHandler","silent"],o=["add","addAnnotatedTag","addConfig","addRemote","addTag","applyPatch","binaryCatFile","branch","branchLocal","catFile","checkIgnore","checkIsRepo","checkout","checkoutBranch","checkoutLatestTag","checkoutLocalBranch","clean","clone","commit","cwd","deleteLocalBranch","deleteLocalBranches","diff","diffSummary","exec","fetch","getRemotes","init","listConfig","listRemote","log","merge","mergeFromTo","mirror","mv","pull","push","pushTags","raw","rebase","remote","removeRemote","reset","revert","revparse","rm","rmKeepLocal","show","stash","stashList","status","subModule","submoduleAdd","submoduleInit","submoduleUpdate","tag","tags","updateServerInfo"];t.gitP=function(...e){let t,r=Promise.resolve();try{t=s.gitInstanceFactory(...e)}catch(e){r=Promise.reject(e)}function a(){return c}function u(){return r}const c=[...i,...o].reduce(((e,s)=>{const i=o.includes(s),c=i?function(e,t){return function(...s){if("function"==typeof s[s.length])throw new TypeError("Promise interface requires that handlers are not supplied inline, trailing function not allowed in call to "+e);return r.then((function(){return new Promise((function(r,i){s.push(((e,t)=>{if(e)return i((s=e)instanceof Error?s:"string"==typeof s?new Error(s):new n.GitResponseError(s));var s;r(t)})),t[e].apply(t,s)}))}))}}(s,t):function(e,t,r){return(...n)=>(t[e](...n),r)}(s,t,e),l=i?u:a;return Object.defineProperty(e,s,{enumerable:!1,configurable:!1,value:t?c:l}),e}),{});return c}},6935:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;const n=r(1050),s=r(2443),i=r(2957),o=(()=>{let e=0;return()=>{e++;const{promise:t,done:r}=s.createDeferred();return{promise:t,done:r,id:e}}})();t.Scheduler=class{constructor(e=2){this.concurrency=e,this.logger=i.createLogger("","scheduler"),this.pending=[],this.running=[],this.logger("Constructed, concurrency=%s",e)}schedule(){if(!this.pending.length||this.running.length>=this.concurrency)return void this.logger("Schedule attempt ignored, pending=%s running=%s concurrency=%s",this.pending.length,this.running.length,this.concurrency);const e=n.append(this.running,this.pending.shift());this.logger("Attempting id=%s",e.id),e.done((()=>{this.logger("Completing id=",e.id),n.remove(this.running,e),this.schedule()}))}next(){const{promise:e,id:t}=n.append(this.pending,o());return this.logger("Scheduling id=%s",t),this.schedule(),e}}},5254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TasksPendingQueue=void 0;const n=r(2437),s=r(2957);class i{constructor(e="GitExecutor"){this.logLabel=e,this._queue=new Map}withProgress(e){return this._queue.get(e)}createProgress(e){const t=i.getName(e.commands[0]);return{task:e,logger:s.createLogger(this.logLabel,t),name:t}}push(e){const t=this.createProgress(e);return t.logger("Adding task to the queue, commands = %o",e.commands),this._queue.set(e,t),t}fatal(e){for(const[t,{logger:r}]of Array.from(this._queue.entries()))t===e.task?(r.info("Failed %o",e),r("Fatal exception, any as-yet un-started tasks run through this executor will not be attempted")):r.info("A fatal exception occurred in a previous task, the queue has been purged: %o",e.message),this.complete(t);if(0!==this._queue.size)throw new Error(`Queue size should be zero after fatal: ${this._queue.size}`)}complete(e){this.withProgress(e)&&this._queue.delete(e)}attempt(e){const t=this.withProgress(e);if(!t)throw new n.GitError(void 0,"TasksPendingQueue: attempt called for an unknown task");return t.logger("Starting task"),t}static getName(e="empty"){return`task:${e}:${++i.counter}`}}t.TasksPendingQueue=i,i.counter=0},5365:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleGitApi=void 0;const n=r(785),s=r(8267),i=r(4186),o=r(1474),a=r(4721),u=r(3054),c=r(6637),l=r(1050);t.SimpleGitApi=class{constructor(e){this._executor=e}_runTask(e,t){const r=this._executor.chain(),s=r.push(e);return t&&n.taskCallback(e,s,t),Object.create(this,{then:{value:s.then.bind(s)},catch:{value:s.catch.bind(s)},_executor:{value:r}})}add(e){return this._runTask(c.straightThroughStringTask(["add",...l.asArray(e)]),l.trailingFunctionArgument(arguments))}cwd(e){const t=l.trailingFunctionArgument(arguments);return"string"==typeof e?this._runTask(s.changeWorkingDirectoryTask(e,this._executor),t):"string"==typeof(null==e?void 0:e.path)?this._runTask(s.changeWorkingDirectoryTask(e.path,e.root&&this._executor||void 0),t):this._runTask(c.configurationErrorTask("Git.cwd: workingDirectory must be supplied as a string"),t)}init(e){return this._runTask(i.initTask(!0===e,this._executor.cwd,l.getTrailingOptions(arguments)),l.trailingFunctionArgument(arguments))}merge(){return this._runTask(o.mergeTask(l.getTrailingOptions(arguments)),l.trailingFunctionArgument(arguments))}mergeFromTo(e,t){return l.filterString(e)&&l.filterString(t)?this._runTask(o.mergeTask([e,t,...l.getTrailingOptions(arguments)]),l.trailingFunctionArgument(arguments,!1)):this._runTask(c.configurationErrorTask("Git.mergeFromTo requires that the 'remote' and 'branch' arguments are supplied as strings"))}outputHandler(e){return this._executor.outputHandler=e,this}push(){const e=a.pushTask({remote:l.filterType(arguments[0],l.filterString),branch:l.filterType(arguments[1],l.filterString)},l.getTrailingOptions(arguments));return this._runTask(e,l.trailingFunctionArgument(arguments))}stash(){return this._runTask(c.straightThroughStringTask(["stash",...l.getTrailingOptions(arguments)]),l.trailingFunctionArgument(arguments))}status(){return this._runTask(u.statusTask(l.getTrailingOptions(arguments)),l.trailingFunctionArgument(arguments))}}},785:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.taskCallback=void 0;const n=r(9009),s=r(1050);t.taskCallback=function(e,t,r=s.NOOP){t.then((e=>{r(null,e)}),(t=>{if((null==t?void 0:t.task)===e){if(t instanceof n.GitResponseError)return r(function(e){let t=e=>{console.warn(`simple-git deprecation notice: accessing GitResponseError.${e} should be GitResponseError.git.${e}, this will no longer be available in version 3`),t=s.NOOP};return Object.create(e,Object.getOwnPropertyNames(e.git).reduce((function(r,n){return n in e||(r[n]={enumerable:!1,configurable:!1,get:()=>(t(n),e.git[n])}),r}),{}))}(t));r(t)}}))}},829:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPatchTask=void 0;const n=r(6637);t.applyPatchTask=function(e,t){return n.straightThroughStringTask(["apply",...t,...e])}},7260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBranchTask=t.deleteBranchesTask=t.branchLocalTask=t.branchTask=t.containsDeleteBranchCommand=void 0;const n=r(9009),s=r(8966),i=r(5279),o=r(1050);function a(e){const t=["-d","-D","--delete"];return e.some((e=>t.includes(e)))}t.containsDeleteBranchCommand=a,t.branchTask=function(e){const t=a(e),r=["branch",...e];return 1===r.length&&r.push("-a"),r.includes("-v")||r.splice(1,0,"-v"),{format:"utf-8",commands:r,parser:(e,r)=>t?s.parseBranchDeletions(e,r).all[0]:i.parseBranchSummary(e)}},t.branchLocalTask=function(){return{format:"utf-8",commands:["branch","-v"],parser:i.parseBranchSummary}},t.deleteBranchesTask=function(e,t=!1){return{format:"utf-8",commands:["branch","-v",t?"-D":"-d",...e],parser:(e,t)=>s.parseBranchDeletions(e,t),onError({exitCode:e,stdOut:t},r,n,i){if(!s.hasBranchDeletionError(String(r),e))return i(r);n(t)}}},t.deleteBranchTask=function(e,t=!1){const r={format:"utf-8",commands:["branch","-v",t?"-D":"-d",e],parser:(t,r)=>s.parseBranchDeletions(t,r).branches[e],onError({exitCode:e,stdErr:t,stdOut:i},a,u,c){if(!s.hasBranchDeletionError(String(a),e))return c(a);throw new n.GitResponseError(r.parser(o.bufferToString(i),o.bufferToString(t)),String(a))}};return r}},8267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeWorkingDirectoryTask=void 0;const n=r(1050),s=r(6637);t.changeWorkingDirectoryTask=function(e,t){return s.adhocExecTask((r=>{if(!n.folderExists(e))throw new Error(`Git.cwd: cannot change to non-directory "${e}"`);return(t||r).cwd=e}))}},5628:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIgnoreTask=void 0;const n=r(133);t.checkIgnoreTask=function(e){return{commands:["check-ignore",...e],format:"utf-8",parser:n.parseCheckIgnore}}},6399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsBareRepoTask=t.checkIsRepoRootTask=t.checkIsRepoTask=t.CheckRepoActions=void 0;const n=r(1050);var s;!function(e){e.BARE="bare",e.IN_TREE="tree",e.IS_REPO_ROOT="root"}(s=t.CheckRepoActions||(t.CheckRepoActions={}));const i=({exitCode:e},t,r,s)=>{if(e===n.ExitCodes.UNCLEAN&&function(e){return/(Not a git repository|Kein Git-Repository)/i.test(String(e))}(t))return r(Buffer.from("false"));s(t)},o=e=>"true"===e.trim();function a(){return{commands:["rev-parse","--git-dir"],format:"utf-8",onError:i,parser:e=>/^\.(git)?$/.test(e.trim())}}function u(){return{commands:["rev-parse","--is-bare-repository"],format:"utf-8",onError:i,parser:o}}t.checkIsRepoTask=function(e){switch(e){case s.BARE:return u();case s.IS_REPO_ROOT:return a()}return{commands:["rev-parse","--is-inside-work-tree"],format:"utf-8",onError:i,parser:o}},t.checkIsRepoRootTask=a,t.checkIsBareRepoTask=u},8709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCleanOptionsArray=t.cleanTask=t.cleanWithOptionsTask=t.CleanOptions=t.CONFIG_ERROR_UNKNOWN_OPTION=t.CONFIG_ERROR_MODE_REQUIRED=t.CONFIG_ERROR_INTERACTIVE_MODE=void 0;const n=r(6766),s=r(1050),i=r(6637);var o;t.CONFIG_ERROR_INTERACTIVE_MODE="Git clean interactive mode is not supported",t.CONFIG_ERROR_MODE_REQUIRED='Git clean mode parameter ("n" or "f") is required',t.CONFIG_ERROR_UNKNOWN_OPTION="Git clean unknown option found in: ",function(e){e.DRY_RUN="n",e.FORCE="f",e.IGNORED_INCLUDED="x",e.IGNORED_ONLY="X",e.EXCLUDING="e",e.QUIET="q",e.RECURSIVE="d"}(o=t.CleanOptions||(t.CleanOptions={}));const a=new Set(["i",...s.asStringArray(Object.values(o))]);function u(e,t){return{commands:["clean",`-${e}`,...t],format:"utf-8",parser:t=>n.cleanSummaryParser(e===o.DRY_RUN,t)}}function c(e){return/^-[^\-]/.test(e)?e.indexOf("i")>0:"--interactive"===e}t.cleanWithOptionsTask=function(e,r){const{cleanMode:n,options:s,valid:l}=function(e){let t,r=[],n={cleanMode:!1,options:!0};return e.replace(/[^a-z]i/g,"").split("").forEach((e=>{var s;!function(e){return e===o.FORCE||e===o.DRY_RUN}(e)?n.options=n.options&&(s=r[r.length]=`-${e}`,/^-[a-z]$/i.test(s)&&a.has(s.charAt(1))):(t=e,n.cleanMode=!0)})),{cleanMode:t,options:r,valid:n}}(e);return n?l.options?(s.push(...r),s.some(c)?i.configurationErrorTask(t.CONFIG_ERROR_INTERACTIVE_MODE):u(n,s)):i.configurationErrorTask(t.CONFIG_ERROR_UNKNOWN_OPTION+JSON.stringify(e)):i.configurationErrorTask(t.CONFIG_ERROR_MODE_REQUIRED)},t.cleanTask=u,t.isCleanOptionsArray=function(e){return Array.isArray(e)&&e.every((e=>a.has(e)))}},6188:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneMirrorTask=t.cloneTask=void 0;const n=r(6637),s=r(1050);function i(e,t,r){const s=["clone",...r];return"string"==typeof e&&s.push(e),"string"==typeof t&&s.push(t),n.straightThroughStringTask(s)}t.cloneTask=i,t.cloneMirrorTask=function(e,t,r){return s.append(r,"--mirror"),i(e,t,r)}},4024:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commitTask=void 0;const n=r(952);t.commitTask=function(e,t,r){const s=["commit"];return e.forEach((e=>s.push("-m",e))),s.push(...t,...r),{commands:s,format:"utf-8",parser:n.parseCommitResult}}},3803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listConfigTask=t.addConfigTask=void 0;const n=r(3426);t.addConfigTask=function(e,t,r=!1){const n=["config","--local"];return r&&n.push("--add"),n.push(e,t),{commands:n,format:"utf-8",parser:e=>e}},t.listConfigTask=function(){return{commands:["config","--list","--show-origin","--null"],format:"utf-8",parser:e=>n.configListParser(e)}}},5062:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.diffSummaryTask=void 0;const n=r(2500);t.diffSummaryTask=function(e){return{commands:["diff","--stat=4096",...e],format:"utf-8",parser:e=>n.parseDiffResult(e)}}},5644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTask=void 0;const n=r(4088);t.fetchTask=function(e,t,r){const s=["fetch",...r];return e&&t&&s.push(e,t),{commands:s,format:"utf-8",parser:n.parseFetchResult}}},6100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashObjectTask=void 0;const n=r(6637);t.hashObjectTask=function(e,t){const r=["hash-object",e];return t&&r.push("-w"),n.straightThroughStringTask(r,!0)}},4186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTask=void 0;const n=r(3367),s="--bare";t.initTask=function(e=!1,t,r){const i=["init",...r];return e&&!i.includes(s)&&i.splice(1,0,s),{commands:i,format:"utf-8",parser:e=>n.parseInit(i.includes("--bare"),t,e)}}},3693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logTask=t.parseLogOptions=void 0;const n=r(4688),s=r(1050);var i;!function(e){e[e["--pretty"]=0]="--pretty",e[e["max-count"]=1]="max-count",e[e.maxCount=2]="maxCount",e[e.n=3]="n",e[e.file=4]="file",e[e.format=5]="format",e[e.from=6]="from",e[e.to=7]="to",e[e.splitter=8]="splitter",e[e.symmetric=9]="symmetric",e[e.multiLine=10]="multiLine",e[e.strictDate=11]="strictDate"}(i||(i={})),t.parseLogOptions=function(e={},t=[]){const r=e.splitter||n.SPLITTER,o=e.format||{hash:"%H",date:!1===e.strictDate?"%ai":"%aI",message:"%s",refs:"%D",body:e.multiLine?"%B":"%b",author_name:"%aN",author_email:"%ae"},[a,u]=function(e,t){const r=[],n=[];return Object.keys(e).forEach((t=>{r.push(t),n.push(String(e[t]))})),[r,n.join(t)]}(o,r),c=[],l=[`--pretty=format:${n.START_BOUNDARY}${u}${n.COMMIT_BOUNDARY}`,...t],f=e.n||e["max-count"]||e.maxCount;if(f&&l.push(`--max-count=${f}`),e.from&&e.to){const t=!1!==e.symmetric?"...":"..";c.push(`${e.from}${t}${e.to}`)}return e.file&&c.push("--follow",e.file),s.appendTaskOptions(function(e){const t=Object.assign({},e);return Object.keys(e).forEach((e=>{e in i&&delete t[e]})),t}(e),l),{fields:a,splitter:r,commands:[...l,...c]}},t.logTask=function(e,t,r){return{commands:["log",...r],format:"utf-8",parser:n.createListLogSummaryParser(e,t)}}},1474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeTask=void 0;const n=r(9009),s=r(476),i=r(6637);t.mergeTask=function(e){return e.length?{commands:["merge",...e],format:"utf-8",parser(e,t){const r=s.parseMergeResult(e,t);if(r.failed)throw new n.GitResponseError(r);return r}}:i.configurationErrorTask("Git.merge requires at least one option")}},3773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moveTask=void 0;const n=r(1425),s=r(1050);t.moveTask=function(e,t){return{commands:["mv","-v",...s.asArray(e),t],format:"utf-8",parser:n.parseMoveResult}}},7868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pullTask=void 0;const n=r(5497);t.pullTask=function(e,t,r){const s=["pull",...r];return e&&t&&s.splice(1,0,e,t),{commands:s,format:"utf-8",parser:(e,t)=>n.parsePullResult(e,t)}}},4721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushTask=t.pushTagsTask=void 0;const n=r(7867),s=r(1050);function i(e={},t){const r=["push",...t];return e.branch&&r.splice(1,0,e.branch),e.remote&&r.splice(1,0,e.remote),s.remove(r,"-v"),s.append(r,"--verbose"),s.append(r,"--porcelain"),{commands:r,format:"utf-8",parser:n.parsePushResult}}t.pushTagsTask=function(e={},t){return s.append(t,"--tags"),i(e,t)},t.pushTask=i},4441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeRemoteTask=t.remoteTask=t.listRemotesTask=t.getRemotesTask=t.addRemoteTask=void 0;const n=r(1089),s=r(6637);t.addRemoteTask=function(e,t,r=[]){return s.straightThroughStringTask(["remote","add",...r,e,t])},t.getRemotesTask=function(e){const t=["remote"];return e&&t.push("-v"),{commands:t,format:"utf-8",parser:e?n.parseGetRemotesVerbose:n.parseGetRemotes}},t.listRemotesTask=function(e=[]){const t=[...e];return"ls-remote"!==t[0]&&t.unshift("ls-remote"),s.straightThroughStringTask(t)},t.remoteTask=function(e=[]){const t=[...e];return"remote"!==t[0]&&t.unshift("remote"),s.straightThroughStringTask(t)},t.removeRemoteTask=function(e){return s.straightThroughStringTask(["remote","remove",e])}},2337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResetMode=t.resetTask=t.ResetMode=void 0;const n=r(6637);var s;!function(e){e.MIXED="mixed",e.SOFT="soft",e.HARD="hard",e.MERGE="merge",e.KEEP="keep"}(s=t.ResetMode||(t.ResetMode={}));const i=Array.from(Object.values(s));function o(e){return i.includes(e)}t.resetTask=function(e,t){const r=["reset"];return o(e)&&r.push(`--${e}`),r.push(...t),n.straightThroughStringTask(r)},t.getResetMode=function(e){if(o(e))return e;switch(typeof e){case"string":case"undefined":return s.SOFT}}},5368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stashListTask=void 0;const n=r(4688),s=r(3693);t.stashListTask=function(e={},t){const r=s.parseLogOptions(e),i=n.createListLogSummaryParser(r.splitter,r.fields);return{commands:["stash","list",...r.commands,...t],format:"utf-8",parser:i}}},3054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusTask=void 0;const n=r(9763);t.statusTask=function(e){return{format:"utf-8",commands:["status","--porcelain","-b","-u",...e],parser:e=>n.parseStatusSummary(e)}}},8278:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSubModuleTask=t.subModuleTask=t.initSubModuleTask=t.addSubModuleTask=void 0;const n=r(6637);function s(e){const t=[...e];return"submodule"!==t[0]&&t.unshift("submodule"),n.straightThroughStringTask(t)}t.addSubModuleTask=function(e,t){return s(["add",e,t])},t.initSubModuleTask=function(e){return s(["init",...e])},t.subModuleTask=s,t.updateSubModuleTask=function(e){return s(["update",...e])}},6316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAnnotatedTagTask=t.addTagTask=t.tagListTask=void 0;const n=r(1427);t.tagListTask=function(e=[]){const t=e.some((e=>/^--sort=/.test(e)));return{format:"utf-8",commands:["tag","-l",...e],parser:e=>n.parseTagList(e,t)}},t.addTagTask=function(e){return{format:"utf-8",commands:["tag",e],parser:()=>({name:e})}},t.addAnnotatedTagTask=function(e,t){return{format:"utf-8",commands:["tag","-a","-m",t,e],parser:()=>({name:e})}}},6637:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyTask=t.isBufferTask=t.straightThroughBufferTask=t.straightThroughStringTask=t.configurationErrorTask=t.adhocExecTask=t.EMPTY_COMMANDS=void 0;const n=r(6958);t.EMPTY_COMMANDS=[],t.adhocExecTask=function(e){return{commands:t.EMPTY_COMMANDS,format:"empty",parser:e}},t.configurationErrorTask=function(e){return{commands:t.EMPTY_COMMANDS,format:"empty",parser(){throw"string"==typeof e?new n.TaskConfigurationError(e):e}}},t.straightThroughStringTask=function(e,t=!1){return{commands:e,format:"utf-8",parser:e=>t?String(e).trim():e}},t.straightThroughBufferTask=function(e){return{commands:e,format:"buffer",parser:e=>e}},t.isBufferTask=function(e){return"buffer"===e.format},t.isEmptyTask=function(e){return"empty"===e.format||!e.commands.length}},1618:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterHasLength=t.filterFunction=t.filterPlainObject=t.filterStringOrStringArray=t.filterStringArray=t.filterString=t.filterPrimitives=t.filterArray=t.filterType=void 0;const n=r(8032);t.filterType=function(e,t,r){return t(e)?e:arguments.length>2?r:void 0},t.filterArray=e=>Array.isArray(e),t.filterPrimitives=function(e,t){return/number|string|boolean/.test(typeof e)&&(!t||!t.includes(typeof e))},t.filterString=e=>"string"==typeof e,t.filterStringArray=e=>Array.isArray(e)&&e.every(t.filterString),t.filterStringOrStringArray=e=>t.filterString(e)||Array.isArray(e)&&e.every(t.filterString),t.filterPlainObject=function(e){return!!e&&"[object Object]"===n.objectToString(e)},t.filterFunction=function(e){return"function"==typeof e},t.filterHasLength=e=>null!=e&&!"number|boolean|function".includes(typeof e)&&(Array.isArray(e)||"string"==typeof e||"number"==typeof e.length)},6343:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExitCodes=void 0,(r=t.ExitCodes||(t.ExitCodes={}))[r.SUCCESS=0]="SUCCESS",r[r.ERROR=1]="ERROR",r[r.UNCLEAN=128]="UNCLEAN"},1724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GitOutputStreams=void 0;class r{constructor(e,t){this.stdOut=e,this.stdErr=t}asStrings(){return new r(this.stdOut.toString("utf8"),this.stdErr.toString("utf8"))}}t.GitOutputStreams=r},1050:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(1618),t),s(r(6343),t),s(r(1724),t),s(r(7098),t),s(r(8892),t),s(r(5838),t),s(r(9876),t),s(r(8032),t)},7098:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteLineParser=t.LineParser=void 0;class r{constructor(e,t){this.matches=[],this.parse=(e,t)=>(this.resetMatches(),!!this._regExp.every(((t,r)=>this.addMatch(t,r,e(r))))&&!1!==this.useMatches(t,this.prepareMatches())),this._regExp=Array.isArray(e)?e:[e],t&&(this.useMatches=t)}useMatches(e,t){throw new Error("LineParser:useMatches not implemented")}resetMatches(){this.matches.length=0}prepareMatches(){return this.matches}addMatch(e,t,r){const n=r&&e.exec(r);return n&&this.pushMatch(t,n),!!n}pushMatch(e,t){this.matches.push(...t.slice(1))}}t.LineParser=r,t.RemoteLineParser=class extends r{addMatch(e,t,r){return/^remote:\s/.test(String(r))&&super.addMatch(e,t,r)}pushMatch(e,t){(e>0||t.length>1)&&super.pushMatch(e,t)}}},8892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInstanceConfig=void 0;const r={binary:"git",maxConcurrentProcesses:5,config:[]};t.createInstanceConfig=function(...e){const t=process.cwd(),n=Object.assign(Object.assign({baseDir:t},r),...e.filter((e=>"object"==typeof e&&e)));return n.baseDir=n.baseDir||t,n}},5838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trailingFunctionArgument=t.trailingOptionsArgument=t.getTrailingOptions=t.appendTaskOptions=void 0;const n=r(1618),s=r(8032);function i(e,t=[]){return n.filterPlainObject(e)?Object.keys(e).reduce(((t,r)=>{const s=e[r];return n.filterPrimitives(s,["boolean"])?t.push(r+"="+s):t.push(r),t}),t):t}function o(e){const t=n.filterFunction(s.last(e));return n.filterType(s.last(e,t?1:0),n.filterPlainObject)}t.appendTaskOptions=i,t.getTrailingOptions=function(e,t=0,r=!1){const a=[];for(let r=0,n=t<0?e.length:t;r<n;r++)"string|number".includes(typeof e[r])&&a.push(String(e[r]));return i(o(e),a),r||a.push(...function(e){const t="function"==typeof s.last(e);return n.filterType(s.last(e,t?1:0),n.filterArray,[])}(e)),a},t.trailingOptionsArgument=o,t.trailingFunctionArgument=function(e,t=!0){const r=s.asFunction(s.last(e));return t||s.isUserFunction(r)?r:void 0}},9876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringResponse=t.callTaskParser=void 0;const n=r(8032);t.callTaskParser=function(e,t){return e(t.stdOut,t.stdErr)},t.parseStringResponse=function(e,t,...r){return r.forEach((r=>{for(let s=n.toLinesWithContent(r),i=0,o=s.length;i<o;i++){const r=(e=0)=>{if(!(i+e>=o))return s[i+e]};t.some((({parse:t})=>t(r,e)))}})),e}},8032:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=t.bufferToString=t.prefixedArray=t.asNumber=t.asStringArray=t.asArray=t.objectToString=t.remove=t.including=t.append=t.folderExists=t.forEachLineWithContent=t.toLinesWithContent=t.last=t.first=t.splitOn=t.isUserFunction=t.asFunction=t.NOOP=void 0;const n=r(1513);function s(e){return!(!e||"number"!=typeof e.length)}function i(e,t=!0,r="\n"){return e.split(r).reduce(((e,r)=>{const n=t?r.trim():r;return n&&e.push(n),e}),[])}function o(e){return Array.isArray(e)?e:[e]}t.NOOP=()=>{},t.asFunction=function(e){return"function"==typeof e?e:t.NOOP},t.isUserFunction=function(e){return"function"==typeof e&&e!==t.NOOP},t.splitOn=function(e,t){const r=e.indexOf(t);return r<=0?[e,""]:[e.substr(0,r),e.substr(r+1)]},t.first=function(e,t=0){return s(e)&&e.length>t?e[t]:void 0},t.last=function(e,t=0){if(s(e)&&e.length>t)return e[e.length-1-t]},t.toLinesWithContent=i,t.forEachLineWithContent=function(e,t){return i(e,!0).map((e=>t(e)))},t.folderExists=function(e){return n.exists(e,n.FOLDER)},t.append=function(e,t){return Array.isArray(e)?e.includes(t)||e.push(t):e.add(t),t},t.including=function(e,t){return Array.isArray(e)&&!e.includes(t)&&e.push(t),e},t.remove=function(e,t){if(Array.isArray(e)){const r=e.indexOf(t);r>=0&&e.splice(r,1)}else e.delete(t);return t},t.objectToString=Object.prototype.toString.call.bind(Object.prototype.toString),t.asArray=o,t.asStringArray=function(e){return o(e).map(String)},t.asNumber=function(e,t=0){if(null==e)return t;const r=parseInt(e,10);return isNaN(r)?t:r},t.prefixedArray=function(e,t){const r=[];for(let n=0,s=e.length;n<s;n++)r.push(t,e[n]);return r},t.bufferToString=function(e){return(Array.isArray(e)?Buffer.concat(e):e).toString("utf-8")},t.pick=function(e,t){return Object.assign({},...t.map((t=>t in e?{[t]:e[t]}:{})))}},2130:(e,t,r)=>{"use strict";const n=r(2087),s=r(3867),i=r(6560),{env:o}=process;let a;function u(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const r=a||0;if("dumb"===o.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in o))||"codeship"===o.CI_NAME?1:r;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:r}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in o&&(a="true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(parseInt(o.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return u(c(e,e&&e.isTTY))},stdout:u(c(!0,s.isatty(1))),stderr:u(c(!0,s.isatty(2)))}},3792:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.git=void 0;const u=i(r(2225)),c=a(r(7056));t.git={git:c.default(),root:process.cwd(),setup(e){this.git=c.default({baseDir:e}),this.root=e},fetch(...e){return o(this,void 0,void 0,(function*(){return yield u.group(`git fetch ${e.join(" ")}`,(()=>o(this,void 0,void 0,(function*(){const t=yield this.git.fetch(e);return u.info(t.raw),t}))))}))},diff(...e){return o(this,void 0,void 0,(function*(){return(yield u.group(`git diff ${e.join(" ")}`,(()=>o(this,void 0,void 0,(function*(){const t=yield this.git.diff(e);return u.info(t),t}))))).split("\n").filter((e=>e))}))},tags(e={fetch:!1}){return o(this,void 0,void 0,(function*(){return e.fetch&&(yield this.git.fetch(["--tags"])),yield this.git.tags()}))}}},3607:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=i(r(2225)),u=r(3792),c=r(126);o(void 0,void 0,void 0,(function*(){try{const e={projectRoot:a.getInput("project-root")||".",workspace:a.getInput("workspace",{required:!0}),base:a.getInput("base",{required:!0}),pattern:a.getInput("pattern")||"**"};u.git.setup(e.projectRoot),yield u.git.fetch("origin",e.base,"--progress","--depth=1");const t=yield c.Project.loadProject(e.projectRoot),r=yield t.getWorkspace(e.workspace);if(!r)return a.setFailed(`Workspace ${e.workspace} not found.`);const n=(yield u.git.tags({fetch:!0})).all.some((t=>t===e.base));let s=e.base;n||(s=`origin/${s}`),(yield r.isAffected(s,e.pattern))?(a.setOutput("affected",!0),a.info(`Workspace ${e.workspace} affected`)):a.info(`Workspace ${e.workspace} not affected`)}catch(e){a.setFailed(e.message)}}))},126:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,s){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,s,(t=e[r](t)).done,t.value)}))}}},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Project=void 0;const c=i(r(2225)),l=i(r(5826)),f=u(r(5622)),d=r(6142);class p extends d.Workspace{constructor(){super(...arguments),this._workspaces=new Map}static loadProject(e){return o(this,void 0,void 0,(function*(){const t=new p(yield this.loadPackage(e),e);return yield t.loadWorkspaces(),t}))}loadWorkspaces(){var e,t;return o(this,void 0,void 0,(function*(){if(this.pkg.workspaces&&this.pkg.workspaces.length>0){const s=this.pkg.workspaces.map((e=>f.default.join(this.root,e,"package.json"))),i=yield l.create(s.join("\n"));try{for(var r,n=a(i.globGenerator());!(r=yield n.next()).done;){let e=r.value;e=e.replace(/[\\/]package\.json$/,"");try{const t=yield d.Workspace.loadWorkspace(e,this);this._workspaces.set(t.name,t)}catch(t){c.warning(`Unable to load workspace at ${e}: ${t}`)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}}}))}getWorkspace(e){return this._workspaces.get(e)||null}}t.Project=p},6142:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return s(t,e),t},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(s,i){function o(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Workspace=void 0;const u=i(r(2225)),c=r(5747),l=a(r(1171)),f=a(r(5622)),d=r(3792);class p{constructor(e,t,r){this.pkg=e,this.root=t,this.project=r}static loadPackage(e){return o(this,void 0,void 0,(function*(){const t=f.default.join(e,"package.json"),r=yield c.promises.readFile(t,"utf-8");return JSON.parse(r)}))}static loadWorkspace(e,t){return o(this,void 0,void 0,(function*(){return new p(yield this.loadPackage(e),e,t)}))}*dependencies(){if(this.project){for(const e of[this.pkg.dependencies,this.pkg.devDependencies])if(e)for(const t of Object.keys(e)){const e=this.project.getWorkspace(t);e&&(yield e)}}else u.warning(`Cannot load dependencies of workspace ${this.name}: loaded outside of a project`)}_testAffected(e,t="**"){return o(this,void 0,void 0,(function*(){u.info(`Testing workspace ${this.name}`);const r=yield d.git.diff("--name-only",e,"--",this.root);if("**"===t)return r.length>0;const n=f.default.relative(d.git.root,this.root);return r.some(l.default.filter(f.default.join(n,t)))}))}_testDepsAffected(e,t,r="**"){return o(this,void 0,void 0,(function*(){if(e.add(this),yield this._testAffected(t,r))return!0;for(const n of this.dependencies())if(!e.has(n)&&(yield n._testDepsAffected(e,t,r)))return!0;return!1}))}isAffected(e,t="**"){return o(this,void 0,void 0,(function*(){return yield this._testDepsAffected(new Set,e,t)}))}get name(){return this.pkg.name}}t.Workspace=p},2357:e=>{"use strict";e.exports=require("assert")},3129:e=>{"use strict";e.exports=require("child_process")},6417:e=>{"use strict";e.exports=require("crypto")},5747:e=>{"use strict";e.exports=require("fs")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},2413:e=>{"use strict";e.exports=require("stream")},3867:e=>{"use strict";e.exports=require("tty")},1669:e=>{"use strict";e.exports=require("util")}},t={};!function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(3607)})();